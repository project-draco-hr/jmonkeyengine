{
  ProjectAssetManager manager=new ProjectAssetManager(FileUtil.toFileObject(path).getParent());
  try {
    if (modelKey != mainKey) {
      keys=null;
    }
    if (currentModel != null) {
      offPanel.detach(currentModel);
      currentModel=null;
    }
    currentModelPath=path.getPath();
    currentPath=path.getParent();
    DataObject obj=DataObject.find(FileUtil.toFileObject(path));
    AssetData data=obj != null ? obj.getLookup().lookup(AssetData.class) : null;
    if (data != null) {
      if (modelKey == null) {
        ((AssetDataObject)obj).getLookupContents().add(manager);
        modelKey=data.getAssetKey();
        currentModel=(Spatial)data.loadAsset();
        keys=data.getAssetKeyList();
      }
 else {
        ((AssetDataObject)obj).getLookupContents().add(manager);
        data.setAssetKey(modelKey);
        currentModel=(Spatial)data.loadAsset();
        keys=data.getAssetKeyList();
      }
    }
    mainKey=modelKey;
    updateProperties(mainKey);
    if (currentModel != null) {
      offPanel.attach(currentModel);
    }
 else {
      Message msg=new NotifyDescriptor.Message("Cannot import this file!",NotifyDescriptor.ERROR_MESSAGE);
      DialogDisplayer.getDefault().notifyLater(msg);
    }
  }
 catch (  Exception e) {
    Message msg=new NotifyDescriptor.Message("Error importing file!\n" + "(" + e + ")",NotifyDescriptor.ERROR_MESSAGE);
    DialogDisplayer.getDefault().notifyLater(msg);
    Exceptions.printStackTrace(e);
  }
  manager.clearCache();
}
