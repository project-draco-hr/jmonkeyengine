{
  FileChooserBuilder builder=new FileChooserBuilder(NewSceneSaveNode.class);
  builder.addFileFilter(new FileFilter(){
    @Override public boolean accept(    File f){
      if (f.getName().toLowerCase().trim().endsWith(".j3o")) {
        return true;
      }
      return false;
    }
    @Override public String getDescription(){
      return "j3o Files";
    }
  }
);
  final File file=builder.showSaveDialog();
  if (file == null) {
    return;
  }
  SceneApplication.getApplication().enqueue(new Callable<Void>(){
    public Void call() throws Exception {
      Spatial node=request.getRootNode();
      if (node == null) {
        return null;
      }
      if (file.exists()) {
        NotifyDescriptor.Confirmation mesg=new NotifyDescriptor.Confirmation("File exists, overwrite?","Not Saved",NotifyDescriptor.YES_NO_OPTION,NotifyDescriptor.WARNING_MESSAGE);
        DialogDisplayer.getDefault().notify(mesg);
        if (mesg.getValue() != NotifyDescriptor.Confirmation.YES_OPTION) {
          return null;
        }
      }
      ProgressHandle progressHandle=ProgressHandleFactory.createHandle("Saving File..");
      progressHandle.start();
      try {
        BinaryExporter exp=BinaryExporter.getInstance();
        exp.save(node,file);
      }
 catch (      Exception e) {
      }
 finally {
        FileObject fo=FileUtil.toFileObject(file);
        if (fo != null) {
          StatusDisplayer.getDefault().setStatusText(fo + " saved.");
          fo.getParent().refresh();
        }
      }
      progressHandle.finish();
      return null;
    }
  }
);
}
