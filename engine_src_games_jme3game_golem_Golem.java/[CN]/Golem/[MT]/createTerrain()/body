{
  matTerrain=new Material(assetManager,"Common/MatDefs/Terrain/Terrain.j3md");
  matTerrain.setTexture("Alpha",assetManager.loadTexture("Textures/Terrain/splat/alphamap2.png"));
  Texture heightMapImage=assetManager.loadTexture("Textures/Terrain/splat/fortress512.png");
  Texture grass=assetManager.loadTexture("Textures/Terrain/splat/grass.jpg");
  grass.setWrap(WrapMode.Repeat);
  matTerrain.setTexture("Tex1",grass);
  matTerrain.setFloat("Tex1Scale",64f);
  Texture dirt=assetManager.loadTexture("Textures/Terrain/splat/dirt.jpg");
  dirt.setWrap(WrapMode.Repeat);
  matTerrain.setTexture("Tex2",dirt);
  matTerrain.setFloat("Tex2Scale",32f);
  Texture rock=assetManager.loadTexture("Textures/Terrain/splat/road.jpg");
  rock.setWrap(WrapMode.Repeat);
  matTerrain.setTexture("Tex3",rock);
  matTerrain.setFloat("Tex3Scale",128f);
  matWire=new Material(assetManager,"Common/MatDefs/Misc/WireColor.j3md");
  matWire.setColor("Color",ColorRGBA.Green);
  AbstractHeightMap heightmap=null;
  try {
    heightmap=new ImageBasedHeightMap(ImageToAwt.convert(heightMapImage.getImage(),false,true,0),0.25f);
    heightmap.load();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  terrain=new TerrainQuad("terrain",65,513,heightmap.getHeightMap());
  List<Camera> cameras=new ArrayList<Camera>();
  cameras.add(getCamera());
  TerrainLodControl control=new TerrainLodControl(terrain,cameras);
  terrain.addControl(control);
  terrain.setMaterial(matTerrain);
  terrain.setModelBound(new BoundingBox());
  terrain.updateModelBound();
  terrain.setLocalScale(new Vector3f(1,1,1));
  terrainNode=new PhysicsNode(CollisionShapeFactory.createMeshShape(terrain),0);
  terrainNode.attachChild(terrain);
  rootNode.attachChild(terrainNode);
  getPhysicsSpace().add(terrainNode);
}
