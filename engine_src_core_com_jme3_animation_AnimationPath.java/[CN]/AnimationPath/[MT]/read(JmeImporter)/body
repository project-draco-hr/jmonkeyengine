{
  super.read(im);
  InputCapsule in=im.getCapsule(this);
  wayPoints=(ArrayList<Vector3f>)in.readSavableArrayList("wayPoints",null);
  lookAt=(Vector3f)in.readSavable("lookAt",Vector3f.ZERO);
  upVector=(Vector3f)in.readSavable("upVector",Vector3f.UNIT_Y);
  rotation=(Quaternion)in.readSavable("rotation",Quaternion.IDENTITY);
  duration=in.readFloat("duration",5f);
  float list[]=in.readFloatArray("segmentsLength",null);
  if (list != null) {
    segmentsLength=new ArrayList<Float>();
    for (int i=0; i < list.length; i++) {
      segmentsLength.add(new Float(list[i]));
    }
  }
  directionType=in.readEnum("directionType",Direction.class,Direction.None);
  pathInterpolation=in.readEnum("pathInterpolation",PathInterpolation.class,PathInterpolation.CatmullRom);
  totalLength=in.readFloat("totalLength",0);
  CRcontrolPoints=(ArrayList<Vector3f>)in.readSavableArrayList("CRControlPoints",null);
  speed=in.readFloat("speed",0);
  curveTension=in.readFloat("curveTension",0.5f);
  cycle=in.readBoolean("cycle",false);
  loop=in.readBoolean("loop",false);
}
