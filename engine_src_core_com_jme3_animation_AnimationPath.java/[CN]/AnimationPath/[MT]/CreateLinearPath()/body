{
  Material mat=new Material(assetManager,"Common/MatDefs/Misc/WireColor.j3md");
  mat.setColor("Color",ColorRGBA.Blue);
  float[] array=new float[wayPoints.size() * 3];
  short[] indices=new short[(wayPoints.size() - 1) * 2];
  int i=0;
  int cpt=0;
  int k=0;
  int j=0;
  for (Iterator<Vector3f> it=wayPoints.iterator(); it.hasNext(); ) {
    Vector3f vector3f=it.next();
    array[i]=vector3f.x;
    i++;
    array[i]=vector3f.y;
    i++;
    array[i]=vector3f.z;
    i++;
    if (it.hasNext()) {
      k=j;
      indices[cpt]=(short)k;
      cpt++;
      k++;
      indices[cpt]=(short)k;
      cpt++;
      j++;
    }
  }
  Mesh lineMesh=new Mesh();
  lineMesh.setMode(Mesh.Mode.Lines);
  lineMesh.setBuffer(VertexBuffer.Type.Position,3,array);
  lineMesh.setBuffer(VertexBuffer.Type.Index,(wayPoints.size() - 1) * 2,indices);
  lineMesh.updateBound();
  lineMesh.updateCounts();
  Geometry lineGeometry=new Geometry("line",lineMesh);
  lineGeometry.setMaterial(mat);
  return lineGeometry;
}
