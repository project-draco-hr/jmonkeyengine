{
  if (!properties.isEmpty()) {
    OutputStream os=null;
    try {
      os=outputStream();
      properties.store(os,new Date().toString());
    }
  finally {
      if (os != null)       os.close();
    }
  }
 else {
    FileObject file=toPropertiesFile();
    if (file != null) {
      file.delete();
    }
    FileObject folder=toFolder();
    while (folder != null && folder != preferencesRoot() && folder.getChildren().length == 0) {
      folder.delete();
      folder=folder.getParent();
    }
  }
}
