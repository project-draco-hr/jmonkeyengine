{
  System.out.println("Clone test:");
  Cloner cloner=new Cloner();
  RegularObject ro=new RegularObject(42);
  System.out.println("Regular Object:" + ro);
  RegularObject roCloneLegacy=ro.clone();
  System.out.println("Regular Object Clone:" + roCloneLegacy);
  RegularObject roClone=cloner.clone(ro);
  System.out.println("cloner: Regular Object Clone:" + roClone);
  System.out.println("------------------------------------");
  System.out.println();
  cloner=new Cloner();
  RegularSubclass rsc=new RegularSubclass(69,"test");
  System.out.println("Regular subclass:" + rsc);
  RegularSubclass rscCloneLegacy=(RegularSubclass)rsc.clone();
  System.out.println("Regular subclass Clone:" + rscCloneLegacy);
  RegularSubclass rscClone=cloner.clone(rsc);
  System.out.println("cloner: Regular subclass Clone:" + rscClone);
  System.out.println("------------------------------------");
  System.out.println();
  cloner=new Cloner();
  Parent parent=new Parent("Foo",34);
  System.out.println("Parent:" + parent);
  Parent parentCloneLegacy=parent.clone();
  System.out.println("Parent Clone:" + parentCloneLegacy);
  Parent parentClone=cloner.clone(parent);
  System.out.println("cloner: Parent Clone:" + parentClone);
  System.out.println("------------------------------------");
  System.out.println();
  cloner=new Cloner();
  GraphNode root=new GraphNode("root");
  GraphNode child1=root.addLink("child1");
  GraphNode child2=root.addLink("child2");
  GraphNode shared=child1.addLink("shared");
  child2.addLink(shared);
  shared.addLink(root);
  System.out.println("Simple graph:");
  root.dump("  ");
  GraphNode rootClone=cloner.clone(root);
  System.out.println("clone:");
  rootClone.dump("  ");
  System.out.println("original:");
  root.dump("  ");
  GraphNode reclone=Cloner.deepClone(root);
  System.out.println("reclone:");
  reclone.dump("  ");
  System.out.println("------------------------------------");
  System.out.println();
  cloner=new Cloner();
  ArrayHolder arrays=new ArrayHolder(5,3,7,3,7,2,1,4);
  System.out.println("Array holder:" + arrays);
  ArrayHolder arraysClone=cloner.clone(arrays);
  System.out.println("Array holder clone:" + arraysClone);
}
