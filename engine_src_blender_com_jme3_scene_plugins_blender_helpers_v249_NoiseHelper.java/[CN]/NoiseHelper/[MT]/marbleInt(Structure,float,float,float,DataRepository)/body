{
  float noisesize=((Number)tex.getFieldValue("noisesize")).floatValue();
  int noisebasis=((Number)tex.getFieldValue("noisebasis")).intValue();
  int noisedepth=((Number)tex.getFieldValue("noisedepth")).intValue();
  int stype=((Number)tex.getFieldValue("stype")).intValue();
  float turbul=((Number)tex.getFieldValue("turbul")).floatValue();
  int noisetype=((Number)tex.getFieldValue("noisetype")).intValue();
  int waveform=((Number)tex.getFieldValue("noisebasis2")).intValue();
  if (waveform > TEX_TRI || waveform < TEX_SIN) {
    waveform=0;
  }
  float n=5.0f * (x + y + z);
  float mi=n + turbul * this.bliGTurbulence(noisesize,x,y,z,noisedepth,noisetype != TEX_NOISESOFT,noisebasis);
  if (stype >= NoiseHelper.TEX_SOFT) {
    mi=waveformFunctions[waveform].execute(mi);
    if (stype == TEX_SHARP) {
      mi=(float)Math.sqrt(mi);
    }
 else     if (stype == TEX_SHARPER) {
      mi=(float)Math.sqrt(Math.sqrt(mi));
    }
  }
  return mi;
}
