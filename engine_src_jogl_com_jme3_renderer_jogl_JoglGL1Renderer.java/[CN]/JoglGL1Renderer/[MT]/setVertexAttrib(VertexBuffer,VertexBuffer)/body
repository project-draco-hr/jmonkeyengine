{
  if (vb.getBufferType() == VertexBuffer.Type.Color && !context.useVertexColor) {
    return;
  }
  int arrayType=convertArrayType(vb.getBufferType());
  if (arrayType == -1) {
    return;
  }
  GL gl=GLContext.getCurrentGL();
  gl.getGL2GL3().glEnableClientState(arrayType);
  context.boundAttribs[vb.getBufferType().ordinal()]=vb;
  if (vb.getBufferType() == Type.Normal) {
    if (vb.isNormalized() && !context.normalizeEnabled) {
      gl.glEnable(GLLightingFunc.GL_NORMALIZE);
      context.normalizeEnabled=true;
    }
 else     if (!vb.isNormalized() && context.normalizeEnabled) {
      gl.glDisable(GLLightingFunc.GL_NORMALIZE);
      context.normalizeEnabled=false;
    }
  }
  Buffer data=idb != null ? idb.getData() : vb.getData();
  int comps=vb.getNumComponents();
  int type=convertVertexFormat(vb.getFormat());
  data.rewind();
switch (vb.getBufferType()) {
case Position:
    if (!(data instanceof FloatBuffer)) {
      throw new UnsupportedOperationException();
    }
  gl.getGL2().glVertexPointer(comps,type,vb.getStride(),(FloatBuffer)data);
break;
case Normal:
if (!(data instanceof FloatBuffer)) {
throw new UnsupportedOperationException();
}
gl.getGL2().glNormalPointer(type,vb.getStride(),(FloatBuffer)data);
break;
case Color:
if (data instanceof FloatBuffer) {
gl.getGL2().glColorPointer(comps,type,vb.getStride(),(FloatBuffer)data);
}
 else if (data instanceof ByteBuffer) {
gl.getGL2().glColorPointer(comps,type,vb.getStride(),(ByteBuffer)data);
}
 else {
throw new UnsupportedOperationException();
}
break;
case TexCoord:
if (!(data instanceof FloatBuffer)) {
throw new UnsupportedOperationException();
}
gl.getGL2().glTexCoordPointer(comps,type,vb.getStride(),(FloatBuffer)data);
break;
default :
break;
}
}
