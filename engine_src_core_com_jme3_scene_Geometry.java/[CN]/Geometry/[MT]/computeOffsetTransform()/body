{
  TempVars vars=TempVars.get();
  Matrix4f tmpMat=vars.tempMat42;
  cachedOffsetMat.loadIdentity();
  cachedOffsetMat.setRotationQuaternion(prevBatchTransforms.getRotation());
  cachedOffsetMat.setTranslation(prevBatchTransforms.getTranslation());
  Matrix4f scaleMat=vars.tempMat4;
  scaleMat.loadIdentity();
  scaleMat.scale(prevBatchTransforms.getScale());
  cachedOffsetMat.multLocal(scaleMat);
  cachedOffsetMat.invertLocal();
  tmpMat.loadIdentity();
  tmpMat.setRotationQuaternion(batchNode.getTransforms(this).getRotation());
  tmpMat.setTranslation(batchNode.getTransforms(this).getTranslation());
  scaleMat.loadIdentity();
  scaleMat.scale(batchNode.getTransforms(this).getScale());
  tmpMat.multLocal(scaleMat);
  tmpMat.mult(cachedOffsetMat,cachedOffsetMat);
  vars.release();
}
