{
  if (components < 1 || components > 4)   throw new IllegalArgumentException("components must be between 1 and 4");
  VertexBuffer vb=buffers.get(type.ordinal());
  if (vb == null) {
    vb=new VertexBuffer(type);
    vb.setupData(Usage.Dynamic,components,Format.UnsignedShort,buf);
    buffers.put(type.ordinal(),vb);
    updateCounts();
  }
}
