{
  AppSettings settings=new AppSettings(true);
  settings.setWidth(Math.max(640,frame.getContentPane().getWidth()));
  settings.setHeight(Math.max(480,frame.getContentPane().getHeight()));
  try {
    Class<? extends Application> clazz=(Class<? extends Application>)Class.forName(appClass);
    app=clazz.newInstance();
  }
 catch (  ClassNotFoundException ex) {
    ex.printStackTrace();
  }
catch (  InstantiationException ex) {
    ex.printStackTrace();
  }
catch (  IllegalAccessException ex) {
    ex.printStackTrace();
  }
  app.setPauseOnLostFocus(false);
  app.setSettings(settings);
  app.createCanvas();
  context=(JmeCanvasContext)app.getContext();
  canvas=context.getCanvas();
  canvas.setSize(settings.getWidth(),settings.getHeight());
}
