{
  SceneRequest request=SceneApplication.getApplication().getCurrentSceneRequest();
  if (request == null) {
    return new String[]{};
  }
  if (material.getAssetName() == null) {
    String[] matsUnsorted=request.getManager().getMaterials();
    List<String> matList=Arrays.asList(matsUnsorted);
    Collections.sort(matList);
    String[] materials=matList.toArray(new String[0]);
    String[] mats=new String[materials.length + 1];
    mats[0]=("create j3m file");
    for (int i=0; i < materials.length; i++) {
      String string=materials[i];
      mats[i + 1]=string;
    }
    return mats;
  }
 else {
    String[] matsUnsorted=request.getManager().getMaterials();
    List<String> matList=Arrays.asList(matsUnsorted);
    Collections.sort(matList);
    return matList.toArray(new String[0]);
  }
}
