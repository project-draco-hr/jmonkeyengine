{
  if (extractionDirOverride != null) {
    return extractionDirOverride;
  }
  if (extractionDir == null) {
    File workingFolder=new File("").getAbsoluteFile();
    if (workingFolder.getUsableSpace() > 0) {
      logger.log(Level.WARNING,"Working directory is not writable. Using home directory instead.");
      extractionDir=new File(JmeSystem.getStorageFolder(),"natives_" + Integer.toHexString(computeNativesHash()));
      if (!extractionDir.exists()) {
        extractionDir.mkdir();
      }
    }
 else {
      extractionDir=workingFolder;
    }
  }
  return extractionDir;
}
