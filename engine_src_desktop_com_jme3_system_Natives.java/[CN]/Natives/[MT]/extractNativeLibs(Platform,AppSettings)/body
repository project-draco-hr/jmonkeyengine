{
  String renderer=settings.getRenderer();
  String audioRenderer=settings.getAudioRenderer();
  boolean needLWJGL=false;
  boolean needOAL=false;
  boolean needJInput=false;
  boolean needNativeBullet=isUsingNativeBullet();
  if (renderer != null) {
    if (renderer.startsWith("LWJGL")) {
      needLWJGL=true;
    }
  }
  if (audioRenderer != null) {
    if (audioRenderer.equals("LWJGL")) {
      needLWJGL=true;
      needOAL=true;
    }
  }
  needJInput=settings.useJoysticks();
  String libraryPath=getExtractionDir().toString();
  if (needLWJGL) {
    logger.log(Level.INFO,"Extraction Directory: {0}",getExtractionDir().toString());
    System.setProperty("org.lwjgl.librarypath",libraryPath);
  }
  if (needJInput) {
    System.setProperty("net.java.games.input.librarypath",libraryPath);
  }
switch (platform) {
case Windows64:
    if (needLWJGL) {
      extractNativeLib("windows","lwjgl64");
    }
  if (needOAL) {
    extractNativeLib("windows","OpenAL64");
  }
if (needJInput) {
  extractNativeLib("windows","jinput-dx8_64");
  extractNativeLib("windows","jinput-raw_64");
}
if (needNativeBullet) {
extractNativeLib("windows","bulletjme64",true,false);
}
break;
case Windows32:
if (needLWJGL) {
extractNativeLib("windows","lwjgl");
}
if (needOAL) {
extractNativeLib("windows","OpenAL32");
}
if (needJInput) {
extractNativeLib("windows","jinput-dx8");
extractNativeLib("windows","jinput-raw");
}
if (needNativeBullet) {
extractNativeLib("windows","bulletjme",true,false);
}
break;
case Linux64:
if (needLWJGL) {
extractNativeLib("linux","lwjgl64");
}
if (needJInput) {
extractNativeLib("linux","jinput-linux64");
}
if (needOAL) {
extractNativeLib("linux","openal64");
}
if (needNativeBullet) {
extractNativeLib("linux","bulletjme64",true,false);
}
break;
case Linux32:
if (needLWJGL) {
extractNativeLib("linux","lwjgl");
}
if (needJInput) {
extractNativeLib("linux","jinput-linux");
}
if (needOAL) {
extractNativeLib("linux","openal");
}
if (needNativeBullet) {
extractNativeLib("linux","bulletjme",true,false);
}
break;
case MacOSX_PPC32:
case MacOSX32:
case MacOSX_PPC64:
case MacOSX64:
if (needLWJGL) {
extractNativeLib("macosx","lwjgl");
}
if (needOAL) {
extractNativeLib("macosx","openal.dylib");
}
if (needJInput) {
extractNativeLib("macosx","jinput-osx");
}
if (needNativeBullet) {
extractNativeLib("macosx","bulletjme",true,false);
}
break;
}
}
