{
  mesh=new Mesh();
  if (opType == null || opType.equals("triangle_list")) {
    mesh.setMode(Mesh.Mode.Triangles);
  }
 else   if (opType.equals("triangle_strip")) {
    mesh.setMode(Mesh.Mode.TriangleStrip);
  }
 else   if (opType.equals("triangle_fan")) {
    mesh.setMode(Mesh.Mode.TriangleFan);
  }
  bigindices=parseBool(use32bitIndices,false);
  boolean sharedverts=parseBool(usesharedvertices,false);
  if (sharedverts) {
    usesSharedGeom.add(true);
    IntMap<VertexBuffer> sharedBufs=sharedmesh.getBuffers();
    for (    Entry<VertexBuffer> entry : sharedBufs) {
      mesh.setBuffer(entry.getValue());
    }
  }
 else {
    usesSharedGeom.add(false);
  }
  if (meshName == null)   geom=new Geometry("OgreSubmesh-" + (++geomIdx),mesh);
 else   geom=new Geometry(meshName + "-geom-" + (++geomIdx),mesh);
  applyMaterial(geom,matName);
  geoms.add(geom);
}
