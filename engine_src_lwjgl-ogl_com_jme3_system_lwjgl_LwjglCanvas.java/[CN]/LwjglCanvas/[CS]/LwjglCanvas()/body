{
  super();
  canvas=new Canvas(){
    @Override public void addNotify(){
      super.addNotify();
      if (renderThread == null || renderThread.getState() == Thread.State.TERMINATED) {
        if (renderThread != null && renderThread.getState() == Thread.State.TERMINATED) {
          logger.log(Level.INFO,"EDT: Creating OGL thread. Was terminated.");
        }
 else {
          logger.log(Level.INFO,"EDT: Creating OGL thread.");
        }
        renderThread=new Thread(LwjglCanvas.this,"LWJGL Renderer Thread");
        renderThread.start();
      }
 else {
        if (needClose.get())         return;
        logger.log(Level.INFO,"EDT: Sending re-init authorization..");
synchronized (reinitAuthLock) {
          reinitAuth.set(true);
          reinitAuthLock.notifyAll();
        }
      }
    }
    @Override public void removeNotify(){
      if (needClose.get()) {
        logger.log(Level.INFO,"EDT: Close requested. Not re-initing.");
        return;
      }
      logger.log(Level.INFO,"EDT: Sending re-init request..");
synchronized (reinitReqLock) {
        reinitReq.set(true);
        while (reinitReq.get()) {
          try {
            reinitReqLock.wait();
          }
 catch (          InterruptedException ex) {
            logger.log(Level.SEVERE,"EDT: Interrupted! ",ex);
          }
        }
      }
      logger.log(Level.INFO,"EDT: Acknowledged receipt of re-init request!");
      super.removeNotify();
    }
  }
;
  canvas.setFocusable(true);
  canvas.setIgnoreRepaint(true);
}
