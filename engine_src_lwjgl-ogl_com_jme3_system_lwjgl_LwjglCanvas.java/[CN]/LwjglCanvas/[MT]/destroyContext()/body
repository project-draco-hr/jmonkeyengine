{
  if (Display.isCreated()) {
    Display.destroy();
  }
  try {
    if (!needClose.get()) {
      makePbufferAvailable();
      pbuffer.makeCurrent();
      renderer.invalidateState();
    }
 else {
      if (pbuffer != null) {
        pbuffer.destroy();
      }
    }
  }
 catch (  LWJGLException ex) {
    listener.handleError("Failed make pbuffer available",ex);
  }
}
