{
  BoneTrack track=(BoneTrack)this.getTrack(animation,targetIndex);
  if (track != null) {
    Vector3f targetLocation=this.getTargetLocation();
    int flag=((Number)data.getFieldValue("flag")).intValue();
    Vector3f[] translations=track.getTranslations();
    int maxFrames=translations.length;
    for (int frame=0; frame < maxFrames; ++frame) {
      Vector3f offset=Vector3f.ZERO;
      if ((flag & LOCLIKE_OFFSET) != 0) {
        offset=translations[frame].clone();
      }
      if ((flag & LOCLIKE_X) != 0) {
        translations[frame].x=targetLocation.x;
        if ((flag & LOCLIKE_X_INVERT) != 0) {
          translations[frame].x=-translations[frame].x;
        }
      }
 else       if ((flag & LOCLIKE_Y) != 0) {
        translations[frame].y=targetLocation.y;
        if ((flag & LOCLIKE_Y_INVERT) != 0) {
          translations[frame].y=-translations[frame].y;
        }
      }
 else       if ((flag & LOCLIKE_Z) != 0) {
        translations[frame].z=targetLocation.z;
        if ((flag & LOCLIKE_Z_INVERT) != 0) {
          translations[frame].z=-translations[frame].z;
        }
      }
      translations[frame].addLocal(offset);
    }
    track.setKeyframes(track.getTimes(),translations,track.getRotations(),track.getScales());
  }
}
