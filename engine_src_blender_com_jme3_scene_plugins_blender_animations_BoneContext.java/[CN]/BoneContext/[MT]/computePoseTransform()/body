{
  DynamicArray<Number> loc=(DynamicArray<Number>)poseChannel.getFieldValue("loc");
  DynamicArray<Number> size=(DynamicArray<Number>)poseChannel.getFieldValue("size");
  DynamicArray<Number> quat=(DynamicArray<Number>)poseChannel.getFieldValue("quat");
  if (fixUpAxis) {
    poseTransform.setTranslation(loc.get(0).floatValue(),-loc.get(2).floatValue(),loc.get(1).floatValue());
    poseTransform.setRotation(new Quaternion(quat.get(1).floatValue(),quat.get(3).floatValue(),-quat.get(2).floatValue(),quat.get(0).floatValue()));
    poseTransform.setScale(size.get(0).floatValue(),size.get(2).floatValue(),size.get(1).floatValue());
  }
 else {
    poseTransform.setTranslation(loc.get(0).floatValue(),loc.get(1).floatValue(),loc.get(2).floatValue());
    poseTransform.setRotation(new Quaternion(quat.get(0).floatValue(),quat.get(1).floatValue(),quat.get(2).floatValue(),quat.get(3).floatValue()));
    poseTransform.setScale(size.get(0).floatValue(),size.get(1).floatValue(),size.get(2).floatValue());
  }
  Transform localTransform=new Transform(bone.getLocalPosition(),bone.getLocalRotation());
  localTransform.setScale(bone.getLocalScale());
  localTransform.getTranslation().addLocal(poseTransform.getTranslation());
  localTransform.getRotation().multLocal(poseTransform.getRotation());
  localTransform.getScale().multLocal(poseTransform.getScale());
  poseTransform.set(localTransform);
}
