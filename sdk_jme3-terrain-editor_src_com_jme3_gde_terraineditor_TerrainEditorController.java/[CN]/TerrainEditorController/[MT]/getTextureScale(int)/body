{
  if (SceneApplication.getApplication().isOgl()) {
    Terrain terrain=(Terrain)getTerrain(null);
    if (terrain == null)     return 1f;
    MatParam matParam=null;
    matParam=terrain.getMaterial().getParam("DiffuseMap_" + layer + "_scale");
    if (matParam == null)     return -1f;
    return (Float)matParam.getValue();
  }
 else {
    try {
      Float scale=SceneApplication.getApplication().enqueue(new Callable<Float>(){
        public Float call() throws Exception {
          return getTextureScale(layer);
        }
      }
).get();
      return scale;
    }
 catch (    InterruptedException ex) {
      Exceptions.printStackTrace(ex);
    }
catch (    ExecutionException ex) {
      Exceptions.printStackTrace(ex);
    }
  }
  return null;
}
