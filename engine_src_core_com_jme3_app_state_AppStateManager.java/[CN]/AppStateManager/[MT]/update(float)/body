{
synchronized (states) {
    int num=states.size();
    for (int i=0; i < num; i++) {
      AppState state=states.get(i);
      if (!state.isInitialized())       state.initialize(this,app);
      if (state.isEnabled()) {
        state.update(tpf);
      }
    }
  }
}
