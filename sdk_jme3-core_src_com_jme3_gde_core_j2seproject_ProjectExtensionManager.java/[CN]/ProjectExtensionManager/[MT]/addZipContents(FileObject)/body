{
  if (zipFile == null) {
    return;
  }
  InputStream in=zipFile.openStream();
  try {
    ZipInputStream str=new ZipInputStream(in);
    ZipEntry entry;
    while ((entry=str.getNextEntry()) != null) {
      String fileName=resourcesFolder + "/" + extensionName+ "/"+ entry.getName();
      if (entry.isDirectory()) {
        FileObject fo=projectRoot.getFileObject(entry.getName());
        if (fo != null && entry.getSize() != -1 && entry.getSize() == fo.getSize()) {
          logger.log(Level.FINE,"Deleting old folder {0}",fo.getNameExt());
          fo.delete();
        }
        FileUtil.createFolder(projectRoot,fileName);
      }
 else {
        FileObject fo=projectRoot.getFileObject(entry.getName());
        if (fo != null && !fo.equals(projectRoot)) {
          logger.log(Level.FINE,"Deleting old file {0}",fo.getNameExt());
          fo.delete();
        }
        fo=projectRoot.getFileObject(fileName);
        if (fo == null) {
          fo=FileUtil.createData(projectRoot,fileName);
          writeFile(str,fo);
        }
 else {
          logger.log(Level.FINE,"Not overwriting existing file {0}",fo.getNameExt());
        }
      }
    }
  }
  finally {
    in.close();
  }
}
