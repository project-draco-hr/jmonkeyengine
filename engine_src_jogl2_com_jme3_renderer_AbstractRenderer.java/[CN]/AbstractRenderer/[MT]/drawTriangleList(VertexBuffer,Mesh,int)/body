{
  Mesh.Mode mode=mesh.getMode();
  Buffer indexData=indexBuf.getData();
  indexData.clear();
  if (mesh.getMode() == Mode.Hybrid) {
    int[] modeStart=mesh.getModeStart();
    int[] elementLengths=mesh.getElementLengths();
    Mode elMode=Mode.Triangles;
    int stripStart=modeStart[1];
    int fanStart=modeStart[2];
    int curOffset=0;
    for (int i=0; i < elementLengths.length; i++) {
      if (i == stripStart) {
        elMode=Mode.TriangleStrip;
      }
 else       if (i == fanStart) {
        elMode=Mode.TriangleStrip;
      }
      int elementLength=elementLengths[i];
      indexData.position(curOffset);
      drawElements(elMode,elementLength,indexBuf.getFormat(),indexData);
      curOffset+=elementLength;
    }
  }
 else {
    drawElements(mode,indexData.capacity(),indexBuf.getFormat(),indexData);
  }
}
