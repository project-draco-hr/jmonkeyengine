{
  final ProjectAssetManager manager=context.getLookup().lookup(ProjectAssetManager.class);
  if (manager == null) {
    return;
  }
  Runnable call=new Runnable(){
    public void run(){
      ProgressHandle progressHandle=ProgressHandleFactory.createHandle("Opening in Terrain Editor");
      progressHandle.start();
      final Spatial asset=context.loadAsset();
      if (asset != null) {
        java.awt.EventQueue.invokeLater(new Runnable(){
          public void run(){
            ((DesktopAssetManager)manager.getManager()).clearCache();
            TerrainEditorTopComponent composer=TerrainEditorTopComponent.findInstance();
            composer.openScene(asset,context,manager);
          }
        }
);
      }
 else {
        Confirmation msg=new NotifyDescriptor.Confirmation("Error opening " + context.getPrimaryFile().getNameExt(),NotifyDescriptor.OK_CANCEL_OPTION,NotifyDescriptor.ERROR_MESSAGE);
        DialogDisplayer.getDefault().notify(msg);
      }
      progressHandle.finish();
    }
  }
;
  new Thread(call).start();
}
