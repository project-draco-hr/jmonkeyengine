{
  try {
    final WizardDescriptor wizardDescriptor=new WizardDescriptor(getPanels());
    java.awt.EventQueue.invokeAndWait(new Runnable(){
      public void run(){
        wizardDescriptor.setTitleFormat(new MessageFormat("{0}"));
        wizardDescriptor.setTitle("Skybox Wizard");
        Dialog dialog=DialogDisplayer.getDefault().createDialog(wizardDescriptor);
        dialog.setVisible(true);
        dialog.toFront();
      }
    }
);
    boolean cancelled=wizardDescriptor.getValue() != WizardDescriptor.FINISH_OPTION;
    if (!cancelled) {
      return generateSkybox(wizardDescriptor);
    }
  }
 catch (  InterruptedException ex) {
    Exceptions.printStackTrace(ex);
  }
catch (  InvocationTargetException ex) {
    Exceptions.printStackTrace(ex);
  }
  return null;
}
