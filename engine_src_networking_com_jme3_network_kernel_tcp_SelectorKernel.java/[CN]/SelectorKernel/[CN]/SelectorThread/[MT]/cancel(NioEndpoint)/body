{
  log.log(Level.INFO,"Closing endpoint:{0}.",p);
  SelectionKey key=endpointKeys.remove(p);
  if (key == null) {
    log.log(Level.INFO,"Endpoint already closed:{0}.",p);
    return;
  }
  SocketChannel c=(SocketChannel)key.channel();
  key.cancel();
  c.close();
  removeEndpoint(p,c);
}
