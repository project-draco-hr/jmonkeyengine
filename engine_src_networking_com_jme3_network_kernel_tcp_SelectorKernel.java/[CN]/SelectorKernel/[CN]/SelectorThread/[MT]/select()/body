{
  selector.select();
  for (Iterator<SelectionKey> i=selector.selectedKeys().iterator(); i.hasNext(); ) {
    SelectionKey key=i.next();
    i.remove();
    if (!key.isValid())     continue;
    if (key.isAcceptable())     accept(key);
 else     if (key.isWritable())     write(key);
 else     if (key.isReadable())     read(key);
  }
}
