{
  if (file.getExt().equalsIgnoreCase("tga")) {
    ImageInputStream in=new FileImageInputStream(new File(file.getURL().toURI()));
    TGAImageReaderSpi spi=new TGAImageReaderSpi();
    TGAImageReader rea=new TGAImageReader(spi);
    rea.setInput(in);
    return rea.read(0);
  }
 else {
    BufferedImage image=ImageIO.read(file.getInputStream());
    return image;
  }
}
