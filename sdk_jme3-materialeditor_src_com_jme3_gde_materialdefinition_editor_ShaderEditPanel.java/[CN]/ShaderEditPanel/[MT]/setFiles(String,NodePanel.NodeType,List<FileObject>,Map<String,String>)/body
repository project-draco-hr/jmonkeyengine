{
  headerText.setText(title);
  headerText.setIcon(Icons.getIconForShaderType(type));
  boolean firstItem=true;
  for (  Component component : buttonPanel.getComponents()) {
    buttonGroup1.remove((JToggleButton)component);
  }
  buttonPanel.removeAll();
  buttonPanel.repaint();
  for (  FileObject fo : fos) {
    final Tab b=new Tab();
    b.setText(fo.getNameExt());
    buttonGroup1.add(b);
    try {
      b.dataObject=DataObject.find(fo);
      b.addActionListener(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          saveCurrent();
          try {
            switchEditableDoc(b);
          }
 catch (          IOException ex) {
            Exceptions.printStackTrace(ex);
          }
        }
      }
);
      if (firstItem) {
        switchEditableDoc(b);
        b.setSelected(true);
        firstItem=false;
      }
    }
 catch (    IOException ex) {
      Exceptions.printStackTrace(ex);
    }
    buttonPanel.add(b);
  }
  for (  String key : readOnlyFiles.keySet()) {
    final Tab b=new Tab();
    b.setText(key);
    buttonGroup1.add(b);
    final String theKey=key;
    b.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        switchReadOnlyDoc(readOnlyFiles.get(theKey));
      }
    }
);
    if (firstItem) {
      switchReadOnlyDoc(readOnlyFiles.get(key));
      b.setSelected(true);
      firstItem=false;
    }
    buttonPanel.add(b);
  }
}
