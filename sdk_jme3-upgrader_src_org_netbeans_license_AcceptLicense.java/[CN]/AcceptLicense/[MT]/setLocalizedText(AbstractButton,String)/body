{
  if (text == null) {
    button.setText(null);
    return;
  }
  int i=findMnemonicAmpersand(text);
  if (i < 0) {
    button.setText(text);
    button.setMnemonic(0);
  }
 else {
    button.setText(text.substring(0,i) + text.substring(i + 1));
    if (Utilities.isMac()) {
      return;
    }
    char ch=text.charAt(i + 1);
    button.setMnemonic(ch);
    button.setDisplayedMnemonicIndex(i);
  }
}
