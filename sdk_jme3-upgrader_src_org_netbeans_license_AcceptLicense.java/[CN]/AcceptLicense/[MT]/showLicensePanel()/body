{
  Util.setDefaultLookAndFeel();
  URL url=AcceptLicense.class.getResource("LICENSE.txt");
  LicensePanel licensePanel=new LicensePanel(url);
  ResourceBundle bundle=NbBundle.getBundle(AcceptLicense.class);
  String yesLabel=bundle.getString("MSG_LicenseYesButton");
  String noLabel=bundle.getString("MSG_LicenseNoButton");
  JButton yesButton=new JButton();
  JButton noButton=new JButton();
  setLocalizedText(yesButton,yesLabel);
  setLocalizedText(noButton,noLabel);
  yesButton.setActionCommand("yes");
  noButton.setActionCommand("no");
  yesButton.getAccessibleContext().setAccessibleName(bundle.getString("ACSN_AcceptButton"));
  yesButton.getAccessibleContext().setAccessibleName(bundle.getString("ACSD_AcceptButton"));
  noButton.getAccessibleContext().setAccessibleName(bundle.getString("ACSN_RejectButton"));
  noButton.getAccessibleContext().setAccessibleName(bundle.getString("ACSD_RejectButton"));
  Dimension yesPF=yesButton.getPreferredSize();
  Dimension noPF=noButton.getPreferredSize();
  int maxWidth=Math.max(yesButton.getPreferredSize().width,noButton.getPreferredSize().width);
  int maxHeight=Math.max(yesButton.getPreferredSize().height,noButton.getPreferredSize().height);
  yesButton.setPreferredSize(new Dimension(maxWidth,maxHeight));
  noButton.setPreferredSize(new Dimension(maxWidth,maxHeight));
  final JDialog d=new JDialog(null,bundle.getString("MSG_LicenseDlgTitle"),Dialog.ModalityType.APPLICATION_MODAL);
  Util.initIcons(d);
  d.getAccessibleContext().setAccessibleName(bundle.getString("ACSN_LicenseDlg"));
  d.getAccessibleContext().setAccessibleDescription(bundle.getString("ACSD_LicenseDlg"));
  d.getContentPane().add(licensePanel,BorderLayout.CENTER);
  ActionListener listener=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      command=e.getActionCommand();
      d.setVisible(false);
    }
  }
;
  yesButton.addActionListener(listener);
  noButton.addActionListener(listener);
  JPanel buttonPanel=new JPanel();
  buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));
  buttonPanel.setBorder(BorderFactory.createEmptyBorder(17,12,11,11));
  buttonPanel.add(yesButton);
  buttonPanel.add(noButton);
  d.getContentPane().add(buttonPanel,BorderLayout.SOUTH);
  d.setSize(new Dimension(600,600));
  d.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
  d.setResizable(true);
  d.getRootPane().setDefaultButton(yesButton);
  d.getRootPane().getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT).put(KeyStroke.getKeyStroke("ESCAPE"),"exit");
  d.getRootPane().getActionMap().put("exit",new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      command="no";
      d.setVisible(false);
    }
  }
);
  licensePanel.jEditorPane1.getInputMap(JComponent.WHEN_FOCUSED).put(KeyStroke.getKeyStroke("ENTER"),"accept");
  licensePanel.jEditorPane1.getActionMap().put("accept",new AbstractAction(){
    public void actionPerformed(    ActionEvent e){
      command="yes";
      d.setVisible(false);
    }
  }
);
  d.setLocationRelativeTo(null);
  d.setVisible(true);
  if ("yes".equals(command)) {
    return;
  }
 else {
    throw new org.openide.util.UserCancelException();
  }
}
