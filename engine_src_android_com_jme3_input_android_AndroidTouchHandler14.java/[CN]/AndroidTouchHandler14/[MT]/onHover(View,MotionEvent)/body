{
  if (view == null || view != androidInput.getView()) {
    return false;
  }
  boolean consumed=false;
  int action=getAction(event);
  int pointerId=getPointerId(event);
  int pointerIndex=getPointerIndex(event);
  Vector2f lastPos=lastHoverPositions.get(pointerId);
  numPointers=event.getPointerCount();
  logger.log(Level.INFO,"onHover pointerId: {0}, action: {1}, x: {2}, y: {3}, numPointers: {4}",new Object[]{pointerId,action,event.getX(),event.getY(),event.getPointerCount()});
  TouchEvent touchEvent;
switch (action) {
case MotionEvent.ACTION_HOVER_ENTER:
    touchEvent=androidInput.getFreeTouchEvent();
  touchEvent.set(TouchEvent.Type.HOVER_START,event.getX(pointerIndex),androidInput.invertY(event.getY(pointerIndex)),0,0);
touchEvent.setPointerId(pointerId);
touchEvent.setTime(event.getEventTime());
touchEvent.setPressure(event.getPressure(pointerIndex));
lastPos=new Vector2f(event.getX(pointerIndex),androidInput.invertY(event.getY(pointerIndex)));
lastHoverPositions.put(pointerId,lastPos);
processEvent(touchEvent);
consumed=true;
break;
case MotionEvent.ACTION_HOVER_MOVE:
for (int p=0; p < event.getPointerCount(); p++) {
lastPos=lastHoverPositions.get(event.getPointerId(p));
if (lastPos == null) {
lastPos=new Vector2f(event.getX(p),androidInput.invertY(event.getY(p)));
lastHoverPositions.put(event.getPointerId(p),lastPos);
}
float dX=event.getX(p) - lastPos.x;
float dY=androidInput.invertY(event.getY(p)) - lastPos.y;
if (dX != 0 || dY != 0) {
touchEvent=androidInput.getFreeTouchEvent();
touchEvent.set(TouchEvent.Type.HOVER_MOVE,event.getX(p),androidInput.invertY(event.getY(p)),dX,dY);
touchEvent.setPointerId(event.getPointerId(p));
touchEvent.setTime(event.getEventTime());
touchEvent.setPressure(event.getPressure(p));
lastPos.set(event.getX(p),androidInput.invertY(event.getY(p)));
processEvent(touchEvent);
}
}
consumed=true;
break;
case MotionEvent.ACTION_HOVER_EXIT:
touchEvent=androidInput.getFreeTouchEvent();
touchEvent.set(TouchEvent.Type.HOVER_END,event.getX(pointerIndex),androidInput.invertY(event.getY(pointerIndex)),0,0);
touchEvent.setPointerId(pointerId);
touchEvent.setTime(event.getEventTime());
touchEvent.setPressure(event.getPressure(pointerIndex));
lastHoverPositions.remove(pointerId);
processEvent(touchEvent);
consumed=true;
break;
default :
consumed=false;
break;
}
return consumed;
}
