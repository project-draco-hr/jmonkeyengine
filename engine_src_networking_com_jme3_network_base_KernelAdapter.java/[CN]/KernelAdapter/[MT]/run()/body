{
  while (go.get()) {
    try {
      flushEvents();
      Envelope e=kernel.read();
      if (e == Kernel.EVENTS_PENDING)       continue;
      flushEvents();
      createAndDispatch(e);
    }
 catch (    InterruptedException ex) {
      if (!go.get())       return;
      throw new RuntimeException("Unexpected interruption",ex);
    }
  }
}
