{
  boolean changed=false;
  Debug.log(Debug.INFO,"all streams detected");
  if (apad == null && enableAudio) {
    Debug.log(Debug.INFO,"file has no audio, remove audiosink");
    audiosink.setState(STOP);
    remove(audiosink);
    audiosink=null;
    changed=true;
    if (videosink != null) {
      videosink.setProperty("max-lateness","" + Clock.SECOND);
    }
  }
  if (vpad == null && enableVideo) {
    Debug.log(Debug.INFO,"file has no video, remove videosink");
    videosink.setState(STOP);
    remove(videosink);
    videosink=null;
    changed=true;
  }
  if (changed) {
    scheduleReCalcState();
  }
}
