{
  float r=((Number)materialStructure.getFieldValue("specr")).floatValue();
  float g=((Number)materialStructure.getFieldValue("specg")).floatValue();
  float b=((Number)materialStructure.getFieldValue("specb")).floatValue();
  float alpha=((Number)materialStructure.getFieldValue("alpha")).floatValue();
switch (specularShader) {
case BLINN:
case COOKTORRENCE:
case TOON:
case WARDISO:
    break;
case PHONG:
  float spec=((Number)materialStructure.getFieldValue("spec")).floatValue();
r*=spec * 0.5f;
g*=spec * 0.5f;
b*=spec * 0.5f;
break;
default :
throw new IllegalStateException("Unknown specular shader type: " + specularShader.toString());
}
return new ColorRGBA(r,g,b,alpha);
}
