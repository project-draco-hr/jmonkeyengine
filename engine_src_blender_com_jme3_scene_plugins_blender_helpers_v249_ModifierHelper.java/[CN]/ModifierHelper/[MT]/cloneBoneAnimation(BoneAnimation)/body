{
  BoneAnimation result=new BoneAnimation(source.getName(),source.getLength());
  BoneTrack[] sourceTracks=source.getTracks();
  BoneTrack[] boneTracks=new BoneTrack[sourceTracks.length];
  for (int i=0; i < sourceTracks.length; ++i) {
    int tablesLength=sourceTracks[i].getTimes().length;
    Vector3f[] sourceTranslations=sourceTracks[i].getTranslations();
    Quaternion[] sourceRotations=sourceTracks[i].getRotations();
    Vector3f[] sourceScales=sourceTracks[i].getScales();
    Vector3f[] translations=new Vector3f[tablesLength];
    Quaternion[] rotations=new Quaternion[tablesLength];
    Vector3f[] scales=new Vector3f[tablesLength];
    for (int j=0; j < tablesLength; ++j) {
      translations[j]=sourceTranslations[j].clone();
      rotations[j]=sourceRotations[j].clone();
      scales[j]=sourceScales != null ? sourceScales[j].clone() : new Vector3f(1.0f,1.0f,1.0f);
    }
    boneTracks[i]=new BoneTrack(sourceTracks[i].getTargetBoneIndex(),sourceTracks[i].getTimes(),translations,rotations,scales);
  }
  result.setTracks(boneTracks);
  return result;
}
