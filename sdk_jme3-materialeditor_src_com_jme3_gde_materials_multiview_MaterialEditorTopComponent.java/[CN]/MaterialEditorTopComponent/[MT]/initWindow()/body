{
  initComponents();
  setName(NbBundle.getMessage(MaterialEditorTopComponent.class,"CTL_MaterialEditorTopComponent"));
  setToolTipText(NbBundle.getMessage(MaterialEditorTopComponent.class,"HINT_MaterialEditorTopComponent"));
  setActivatedNodes(new Node[]{dataObject.getNodeDelegate()});
  ((AssetDataObject)dataObject).setSaveCookie(saveCookie);
  manager=dataObject.getLookup().lookup(ProjectAssetManager.class);
  materialFile=new EditableMaterialFile(dataObject.getPrimaryFile(),dataObject.getLookup().lookup(ProjectAssetManager.class));
  materialFile.read();
  setMatDefList(manager.getMatDefs(),materialFile.getMatDefName());
  try {
    jTextArea1.setText(dataObject.getPrimaryFile().asText());
  }
 catch (  IOException ex) {
    Exceptions.printStackTrace(ex);
  }
  jTextArea1.getDocument().addDocumentListener(new DocumentChangeListener());
  updateProperties();
  materialPreviewWidget1.showMaterial(manager,materialFileName);
  relativeMaterialFileName=manager.getRelativeAssetPath(materialFileName);
}
