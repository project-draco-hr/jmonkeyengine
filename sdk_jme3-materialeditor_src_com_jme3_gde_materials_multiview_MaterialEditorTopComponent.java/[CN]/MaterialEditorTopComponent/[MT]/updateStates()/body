{
  for (  Component component : statesPanel.getComponents()) {
    if (component instanceof MaterialPropertyWidget) {
      ((MaterialPropertyWidget)component).registerChangeListener(null);
    }
  }
  statesPanel.removeAll();
  for (  Entry<String,MaterialProperty> entry : materialFile.getStateMap().entrySet()) {
    MaterialPropertyWidget widget=WidgetFactory.getWidget(entry.getValue(),manager);
    widget.registerChangeListener(this);
    statesPanel.add(widget);
  }
}
