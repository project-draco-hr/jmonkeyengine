{
  for (  Component component : optionsPanel.getComponents()) {
    if (component instanceof MaterialPropertyWidget) {
      ((MaterialPropertyWidget)component).registerChangeListener(null);
    }
  }
  for (  Component component : texturePanel.getComponents()) {
    if (component instanceof MaterialPropertyWidget) {
      ((MaterialPropertyWidget)component).registerChangeListener(null);
    }
  }
  optionsPanel.removeAll();
  texturePanel.removeAll();
  List<Component> optionList=new LinkedList<Component>();
  List<Component> colorList=new LinkedList<Component>();
  List<Component> valueList=new LinkedList<Component>();
  List<Component> textureList=new LinkedList<Component>();
  List<Component> otherList=new LinkedList<Component>();
  for (  Entry<String,MaterialProperty> entry : materialFile.getParameterMap().entrySet()) {
    MaterialPropertyWidget widget=WidgetFactory.getWidget(entry.getValue(),manager);
    widget.registerChangeListener(this);
    if ("Boolean".equals(entry.getValue().getType())) {
      optionList.add(widget);
    }
 else     if (entry.getValue().getType().contains("Texture")) {
      textureList.add(widget);
    }
 else     if ("Color".equals(entry.getValue().getType())) {
      colorList.add(widget);
    }
 else     if ("Float".equals(entry.getValue().getType())) {
      valueList.add(widget);
    }
 else     if ("Int".equals(entry.getValue().getType())) {
      valueList.add(widget);
    }
 else {
      otherList.add(widget);
    }
  }
  for (  Component component : textureList) {
    texturePanel.add(component);
  }
  for (  Component component : optionList) {
    optionsPanel.add(component);
  }
  for (  Component component : colorList) {
    texturePanel.add(component);
  }
  for (  Component component : valueList) {
    optionsPanel.add(component);
  }
  for (  Component component : otherList) {
    optionsPanel.add(component);
  }
  jScrollPane2.repaint();
  jScrollPane3.repaint();
  setDisplayName(materialFile.getName() + " - " + materialFile.getMaterialPath());
  EditableMaterialFile prop=materialFile;
  materialFile=null;
  jTextField1.setText(prop.getName());
  materialFile=prop;
  updateStates();
}
