{
  Point p=e.getPoint();
  p.x/=target.getScaleX();
  p.y/=target.getScaleY();
  Color picked=new Color(target.getCurrentImage().getRGB(p.x,p.y));
  if (SwingUtilities.isLeftMouseButton(e)) {
    target.setForeground(picked);
  }
 else   if (SwingUtilities.isRightMouseButton(e)) {
    target.setBackground(picked);
  }
}
