{
  MatParam paramDef=def.getMaterialParam(name);
  String newName=name;
  if (paramDef == null && name.startsWith("m_")) {
    newName=name.substring(2);
    paramDef=def.getMaterialParam(newName);
    if (paramDef == null) {
      throw new IllegalArgumentException("Material parameter is not defined: " + name);
    }
 else {
      logger.log(Level.WARNING,"Material parameter {0} uses a deprecated naming convention use {1} instead ",new Object[]{name,newName});
    }
  }
 else   if (paramDef == null) {
    throw new IllegalArgumentException("Material parameter is not defined: " + name);
  }
  if (type != null && paramDef.getVarType() != type) {
    logger.log(Level.WARNING,"Material parameter being set: {0} with " + "type {1} doesn't match definition type {2}",new Object[]{name,type.name(),paramDef.getVarType()});
  }
  return newName;
}
