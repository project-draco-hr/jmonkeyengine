{
  if (this == mat) {
    return true;
  }
  if (this.getMaterialDef() != mat.getMaterialDef()) {
    return false;
  }
  if (paramValues.size() != mat.paramValues.size()) {
    return false;
  }
  for (  String paramKey : paramValues.keySet()) {
    MatParam paramOrig=getParam(paramKey);
    MatParam param=mat.getParam(paramKey);
    if (param == null) {
      return false;
    }
    if (param.type != paramOrig.type) {
      return false;
    }
    if (param instanceof MatParamTexture) {
      MatParamTexture tex=(MatParamTexture)param;
      MatParamTexture texOrig=(MatParamTexture)paramOrig;
      if (getTextureId(tex) != getTextureId(texOrig)) {
        return false;
      }
    }
 else {
      if (!param.getValue().equals(paramOrig.getValue())) {
        return false;
      }
    }
  }
  if (additionalState == null) {
    if (mat.additionalState != null) {
      return false;
    }
  }
 else {
    if (!additionalState.equals(mat.additionalState)) {
      return false;
    }
  }
  return true;
}
