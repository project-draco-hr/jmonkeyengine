{
  URL assetCfgUrl=null;
  if (settings != null) {
    String assetCfg=settings.getString("AssetConfigURL");
    if (assetCfg != null) {
      try {
        assetCfgUrl=new URL(assetCfg);
      }
 catch (      MalformedURLException ex) {
      }
      if (assetCfgUrl == null) {
        assetCfgUrl=Application.class.getClassLoader().getResource(assetCfg);
        if (assetCfgUrl == null) {
          logger.log(Level.SEVERE,"Unable to access AssetConfigURL in asset config:{0}",assetCfg);
          return;
        }
      }
    }
  }
  if (assetCfgUrl == null) {
    String assetCfg=JmeSystem.getPlatformAssetConfigPath();
    assetCfgUrl=Thread.currentThread().getContextClassLoader().getResource(assetCfg);
  }
  if (assetManager == null) {
    assetManager=JmeSystem.newAssetManager(assetCfgUrl);
  }
}
