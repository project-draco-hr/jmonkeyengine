{
  Material mat=new Material(assetManager,"Common/MatDefs/Light/Lighting.j3md");
  final ByteArrayOutputStream stream=new ByteArrayOutputStream();
  J3mdExporter exporter=new J3mdExporter();
  try {
    exporter.save(mat.getMaterialDef(),stream);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  J3MLoader loader=new J3MLoader();
  AssetInfo info=new AssetInfo(assetManager,new AssetKey("test")){
    @Override public InputStream openStream(){
      return new ByteArrayInputStream(stream.toByteArray());
    }
  }
;
  MaterialDef matDef=(MaterialDef)loader.load(info);
  MaterialDef ref=mat.getMaterialDef();
  for (  MatParam matParam : matDef.getMaterialParams()) {
    MatParam refParam=ref.getMaterialParam(matParam.getName());
    assertTrue(refParam != null);
    assertTrue(refParam.equals(matParam));
  }
}
