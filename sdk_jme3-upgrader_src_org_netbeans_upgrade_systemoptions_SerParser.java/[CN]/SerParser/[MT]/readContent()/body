{
  byte tc=readByte();
switch (tc) {
case TC_OBJECT:
    return readNewObject();
case TC_CLASS:
  return readNewClass();
case TC_ARRAY:
return readNewArray();
case TC_CLASSDESC:
return readNewClassDesc();
case TC_PROXYCLASSDESC:
throw new NotImplementedException("TC_PROXYCLASSDESC");
case TC_STRING:
return readNewString();
case TC_LONGSTRING:
throw new NotImplementedException("TC_LONGSTRING");
case TC_REFERENCE:
return readReference();
case TC_NULL:
return NULL;
case TC_EXCEPTION:
throw new NotImplementedException("TC_EXCEPTION");
case TC_RESET:
throw new NotImplementedException("TC_RESET");
case TC_BLOCKDATA:
return readBlockData();
case TC_BLOCKDATALONG:
return readBlockDataLong();
default :
throw new CorruptException("Unknown typecode: " + hexify(tc));
}
}
