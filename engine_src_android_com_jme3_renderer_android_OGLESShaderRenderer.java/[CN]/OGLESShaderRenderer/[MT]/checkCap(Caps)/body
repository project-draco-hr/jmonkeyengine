{
  if (!caps.contains(cap))   throw new UnsupportedOperationException("Required capability missing: " + cap.name());
}
