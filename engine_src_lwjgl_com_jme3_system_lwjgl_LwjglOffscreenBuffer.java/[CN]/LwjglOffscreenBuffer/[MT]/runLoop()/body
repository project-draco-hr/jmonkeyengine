{
  if (!created.get())   throw new IllegalStateException();
  if (pbuffer.isBufferLost()) {
    pbuffer.destroy();
    try {
      pbuffer=new Pbuffer(width,height,pixelFormat,null);
      pbuffer.makeCurrent();
    }
 catch (    LWJGLException ex) {
      listener.handleError("Failed to restore pbuffer content",ex);
    }
  }
  listener.update();
  checkGLError();
  renderer.onFrame();
  int frameRate=settings.getFrameRate();
  if (frameRate >= 1) {
    Display.sync(frameRate);
  }
}
