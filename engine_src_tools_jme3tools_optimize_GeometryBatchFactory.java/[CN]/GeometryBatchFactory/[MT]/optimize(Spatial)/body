{
  ArrayList<Geometry> geoms=new ArrayList<Geometry>();
  gatherGeoms(scene,geoms);
  List<Geometry> batchedGeoms=makeBatches(geoms);
  Node node=new Node(scene.getName());
  for (  Geometry geom : batchedGeoms) {
    node.attachChild(geom);
  }
  Node parent=scene.getParent();
  if (parent != null) {
    scene.removeFromParent();
    parent.attachChild(node);
  }
  return node;
}
