{
  final NoteKeeper keeper=new NoteKeeper();
  if (message == null) {
    message=exception.getMessage();
  }
  if (title == null) {
    message=exception.getMessage();
  }
  ActionListener actionListener=new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      StringWriter out=new StringWriter();
      exception.printStackTrace(new PrintWriter(out));
      String exception=out.toString();
      DialogDisplayer.getDefault().notifyLater(new NotifyDescriptor.Message(exception,NotifyDescriptor.ERROR_MESSAGE));
      keeper.note.clear();
    }
  }
;
  keeper.note=show(title,message,MessageType.EXCEPTION,actionListener,clear ? 10000 : 0);
  return keeper.note;
}
