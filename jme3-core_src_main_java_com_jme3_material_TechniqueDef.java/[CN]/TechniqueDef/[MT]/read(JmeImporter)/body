{
  InputCapsule ic=im.getCapsule(this);
  name=ic.readString("name",null);
  shaderName.put(Shader.ShaderType.Vertex,ic.readString("vertName",null));
  shaderName.put(Shader.ShaderType.Fragment,ic.readString("fragName",null));
  shaderName.put(Shader.ShaderType.Geometry,ic.readString("geomName",null));
  shaderName.put(Shader.ShaderType.TesselationControl,ic.readString("tsctrlName",null));
  shaderName.put(Shader.ShaderType.TesselationEvaluation,ic.readString("tsevalName",null));
  presetDefines=(DefineList)ic.readSavable("presetDefines",null);
  lightMode=ic.readEnum("lightMode",LightMode.class,LightMode.Disable);
  shadowMode=ic.readEnum("shadowMode",ShadowMode.class,ShadowMode.Disable);
  renderState=(RenderState)ic.readSavable("renderState",null);
  usesShaders=ic.readBoolean("usesShaders",false);
  if (ic.getSavableVersion(TechniqueDef.class) == 0) {
    shaderLanguage.put(Shader.ShaderType.Vertex,ic.readString("shaderLang",null));
    shaderLanguage.put(Shader.ShaderType.Fragment,shaderLanguage.get(Shader.ShaderType.Vertex));
  }
 else {
    shaderLanguage.put(Shader.ShaderType.Vertex,ic.readString("vertLanguage",null));
    shaderLanguage.put(Shader.ShaderType.Fragment,ic.readString("fragLanguage",null));
    shaderLanguage.put(Shader.ShaderType.Geometry,ic.readString("geomLanguage",null));
    shaderLanguage.put(Shader.ShaderType.TesselationControl,ic.readString("tsctrlLanguage",null));
    shaderLanguage.put(Shader.ShaderType.TesselationEvaluation,ic.readString("tsevalLanguage",null));
  }
  usesNodes=ic.readBoolean("usesNodes",false);
  shaderNodes=ic.readSavableArrayList("shaderNodes",null);
  shaderGenerationInfo=(ShaderGenerationInfo)ic.readSavable("shaderGenerationInfo",null);
}
