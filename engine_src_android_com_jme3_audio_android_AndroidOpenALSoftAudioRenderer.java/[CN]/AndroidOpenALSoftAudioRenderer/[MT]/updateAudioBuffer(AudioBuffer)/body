{
  int id=ab.getId();
  if (ab.getId() == -1) {
    ib.position(0).limit(1);
    alGenBuffers(1,ib);
    checkError(true);
    id=ib.get(0);
    ab.setId(id);
    objManager.registerForCleanup(ab);
  }
  ab.getData().clear();
  alBufferData(id,convertFormat(ab),ab.getData(),ab.getData().limit(),ab.getSampleRate());
  checkError(true);
  ab.clearUpdateNeeded();
}
