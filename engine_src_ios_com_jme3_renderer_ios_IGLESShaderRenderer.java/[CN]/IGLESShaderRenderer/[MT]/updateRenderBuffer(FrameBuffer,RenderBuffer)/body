{
  int id=rb.getId();
  if (id == -1) {
    JmeIosGLES.glGenRenderbuffers(1,intBuf1,0);
    JmeIosGLES.checkGLError();
    id=intBuf1[0];
    rb.setId(id);
  }
  if (context.boundRB != id) {
    JmeIosGLES.glBindRenderbuffer(JmeIosGLES.GL_RENDERBUFFER,id);
    JmeIosGLES.checkGLError();
    context.boundRB=id;
  }
  if (fb.getWidth() > maxRBSize || fb.getHeight() > maxRBSize) {
    throw new RendererException("Resolution " + fb.getWidth() + ":"+ fb.getHeight()+ " is not supported.");
  }
  TextureUtil.IosGLImageFormat imageFormat=TextureUtil.getImageFormat(rb.getFormat());
  if (imageFormat.renderBufferStorageFormat == 0) {
    throw new RendererException("The format '" + rb.getFormat() + "' cannot be used for renderbuffers.");
  }
  if (fb.getSamples() > 1) {
    throw new RendererException("Multisample FrameBuffer is not supported yet.");
  }
 else {
    JmeIosGLES.glRenderbufferStorage(JmeIosGLES.GL_RENDERBUFFER,imageFormat.renderBufferStorageFormat,fb.getWidth(),fb.getHeight());
    JmeIosGLES.checkGLError();
  }
}
