{
  ProgressHandle progressHandle=ProgressHandleFactory.createHandle("Adding Model..");
  progressHandle.start();
  try {
    if (file != null) {
      selected.attachChild(file);
      if (location != null) {
        Vector3f localVec=new Vector3f();
        selected.worldToLocal(location,localVec);
        file.setLocalTranslation(localVec);
      }
    }
    refreshSelected();
    addSpatialUndo(selected,file,null,jmeRootNode);
  }
 catch (  Exception ex) {
    Confirmation msg=new NotifyDescriptor.Confirmation("Error importing " + file.getName() + "\n"+ ex.toString(),NotifyDescriptor.OK_CANCEL_OPTION,NotifyDescriptor.ERROR_MESSAGE);
    DialogDisplayer.getDefault().notifyLater(msg);
  }
  progressHandle.finish();
}
