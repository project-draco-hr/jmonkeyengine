{
  if (request.equals(sentRequest) && editorController != null) {
    currentRequest=request;
    setSceneInfo(currentRequest.getJmeNode(),true);
    Terrain terrain=(Terrain)editorController.getTerrain(null);
    if (terrain != null) {
      ((Node)terrain).setMaterial(terrain.getMaterial(null));
      refreshSelected();
    }
    if (camController != null) {
      camController.disable();
    }
    if (toolController != null) {
      toolController.cleanup();
    }
    toolController=new TerrainToolController(currentRequest.getToolNode(),currentRequest.getManager().getManager(),request.getJmeNode());
    camController=new TerrainCameraController(SceneApplication.getApplication().getCamera());
    camController.setMaster(this);
    camController.enable();
    camController.setToolController(toolController);
    camController.setEditorController(editorController);
    toolController.setEditorController(editorController);
    toolController.setCameraController(camController);
    toolController.setTopComponent(this);
    toolController.setHeightToolRadius((float)radiusSlider.getValue() / (float)radiusSlider.getMaximum());
    toolController.setHeightToolHeight((float)heightSlider.getValue() / (float)heightSlider.getMaximum());
    editorController.setTerrainLodCamera();
    reinitTextureTable();
    if (editorController.getTerrain(null) != null) {
    }
    fractalBrushPanel.setVisible(false);
  }
}
