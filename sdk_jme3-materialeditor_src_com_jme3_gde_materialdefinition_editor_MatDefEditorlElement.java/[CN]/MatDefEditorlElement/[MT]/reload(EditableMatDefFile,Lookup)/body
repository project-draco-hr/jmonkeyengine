{
  if (file.isLoaded()) {
    initDiagram(lkp);
    MatDefNavigatorPanel nav=obj.getLookup().lookup(MatDefNavigatorPanel.class);
    if (nav != null) {
      nav.updateData(obj);
    }
  }
 else {
    diagram1.clear();
    JLabel error=new JLabel("<html><center>Cannot load material definition.<br>Please see the error log and fix it in the text editor</center></html>");
    error.setForeground(Color.ORANGE);
    error.setFont(new Font("Arial",Font.BOLD,24));
    error.setBounds(0,0,400,100);
    jScrollPane1.getHorizontalScrollBar().setValue(0);
    error.setLocation(jScrollPane1.getViewport().getWidth() / 2 - 200,jScrollPane1.getViewport().getHeight() / 2 - 50);
    diagram1.add(error);
    diagram1.repaint();
  }
}
