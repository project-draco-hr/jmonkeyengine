{
  initComponents();
  oGLPanel.setMinimumSize(new java.awt.Dimension(10,10));
  setFocusable(true);
  setName(NbBundle.getMessage(SceneViewerTopComponent.class,"CTL_SceneViewerTopComponent"));
  setToolTipText(NbBundle.getMessage(SceneViewerTopComponent.class,"HINT_SceneViewerTopComponent"));
  setIcon(ImageUtilities.loadImage(ICON_PATH,true));
  try {
    app=SceneApplication.getApplication();
    oglCanvas=((JmeCanvasContext)app.getContext()).getCanvas();
    oGLPanel.add(oglCanvas);
  }
 catch (  Exception e) {
    Exceptions.printStackTrace(e);
    showOpenGLError(e.toString());
  }
catch (  Error err) {
    Exceptions.printStackTrace(err);
    showOpenGLError(err.toString());
  }
  addMouseWheelListener(new MouseWheelListener(){
    public void mouseWheelMoved(    MouseWheelEvent e){
      String action="MouseWheel-";
      if (e.getWheelRotation() < 0) {
        action="MouseWheel";
      }
      app.getActiveCameraController().onAnalog(action,e.getWheelRotation(),0);
    }
  }
);
  addKeyListener(new KeyListener(){
    public void keyTyped(    KeyEvent evt){
    }
    public void keyPressed(    KeyEvent evt){
      int code=AwtKeyInput.convertAwtKey(evt.getKeyCode());
      KeyInputEvent keyEvent=new KeyInputEvent(code,evt.getKeyChar(),true,false);
      keyEvent.setTime(evt.getWhen());
      if (app.getActiveCameraController() != null) {
        app.getActiveCameraController().onKeyEvent(keyEvent);
      }
    }
    public void keyReleased(    KeyEvent evt){
      int code=AwtKeyInput.convertAwtKey(evt.getKeyCode());
      KeyInputEvent keyEvent=new KeyInputEvent(code,evt.getKeyChar(),false,false);
      keyEvent.setTime(evt.getWhen());
      if (app.getActiveCameraController() != null) {
        app.getActiveCameraController().onKeyEvent(keyEvent);
      }
    }
  }
);
}
