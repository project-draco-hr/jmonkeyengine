{
  AndroidGLSurfaceView view;
  ConfigType configType=(ConfigType)settings.get(AndroidConfigChooser.SETTINGS_CONFIG_TYPE);
  view=new AndroidGLSurfaceView(JmeAndroidSystem.getActivity().getApplication());
  if (androidInput == null) {
    androidInput=new AndroidInput();
  }
  androidInput.setView(view);
  androidInput.loadSettings(settings);
  int rawOpenGLESVersion=getOpenGLESVersion();
  logger.log(Level.FINE,"clientOpenGLESVersion {0}.{1}",new Object[]{clientOpenGLESVersion >> 16,clientOpenGLESVersion << 16});
  if (rawOpenGLESVersion < 0x20000) {
    throw new UnsupportedOperationException("OpenGL ES 2.0 is not supported on this device");
  }
 else {
    clientOpenGLESVersion=2;
    view.setEGLContextClientVersion(clientOpenGLESVersion);
  }
  view.setFocusableInTouchMode(true);
  view.setFocusable(true);
  view.getHolder().setType(SurfaceHolder.SURFACE_TYPE_GPU);
  AndroidConfigChooser configChooser=new AndroidConfigChooser(settings,view);
  view.setEGLConfigChooser(configChooser);
  view.setRenderer(this);
  return view;
}
