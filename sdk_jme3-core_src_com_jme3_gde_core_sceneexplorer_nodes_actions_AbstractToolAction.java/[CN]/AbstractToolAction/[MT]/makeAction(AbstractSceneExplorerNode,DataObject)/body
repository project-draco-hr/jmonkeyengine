{
  return new AbstractAction(name){
    public void actionPerformed(    ActionEvent e){
      SceneApplication.getApplication().enqueue(new Callable<Void>(){
        public Void call() throws Exception {
          final Object object=doApplyTool(rootNode);
          if (object != null) {
            Lookup.getDefault().lookup(SceneUndoRedoManager.class).addEdit(this,new AbstractUndoableSceneEdit(){
              @Override public void sceneUndo() throws CannotUndoException {
                doUndoTool(rootNode,object);
                setModified();
              }
              @Override public void sceneRedo() throws CannotRedoException {
                doApplyTool(rootNode);
                setModified();
              }
              @Override public void awtRedo(){
                dataObject.setModified(true);
                rootNode.refresh(true);
              }
              @Override public void awtUndo(){
                dataObject.setModified(true);
                rootNode.refresh(true);
              }
            }
);
            setModified();
          }
          return null;
        }
      }
);
    }
    protected void setModified(){
      java.awt.EventQueue.invokeLater(new Runnable(){
        public void run(){
          dataObject.setModified(true);
          rootNode.refresh(true);
        }
      }
);
    }
  }
;
}
