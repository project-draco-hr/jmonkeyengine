{
  variable.setShaderOutput(true);
  if (node.getDefinition().getType() == Shader.ShaderType.Vertex && shaderNode.getDefinition().getType() == Shader.ShaderType.Fragment) {
    ShaderNodeVariable var=varyings.get(variable.getName());
    if (var == null) {
      techniqueDef.getShaderGenerationInfo().getVaryings().add(variable);
      varyings.put(variable.getName(),variable);
    }
 else {
      var.setCondition(mergeConditions(var.getCondition(),variable.getCondition(),"||"));
      variable.setCondition(var.getCondition());
    }
    for (    VariableMapping variableMapping : node.getInputMapping()) {
      if (variableMapping.getLeftVariable().getName().equals(variable.getName())) {
        variableMapping.getLeftVariable().setShaderOutput(true);
      }
    }
  }
}
