{
  if (buf == null)   return null;
  buf.rewind();
  FloatBuffer copy;
  if (buf.isDirect()) {
    copy=createFloatBuffer(buf.limit());
  }
 else {
    copy=FloatBuffer.allocate(buf.limit());
  }
  copy.put(buf);
  return copy;
}
