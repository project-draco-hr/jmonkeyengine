{
  super.initialize();
  guiNode.setQueueBucket(Bucket.Gui);
  guiNode.setCullHint(CullHint.Never);
  viewPort.attachScene(rootNode);
  guiViewPort.attachScene(guiNode);
  if (inputManager != null) {
    if (stateManager.getState(FlyCamAppState.class) != null) {
      flyCam=new FlyByCamera(cam);
      flyCam.setMoveSpeed(1f);
      stateManager.getState(FlyCamAppState.class).setCamera(flyCam);
    }
    if (context.getType() == Type.Display) {
      inputManager.addMapping(INPUT_MAPPING_EXIT,new KeyTrigger(KeyInput.KEY_ESCAPE));
    }
    inputManager.addMapping(INPUT_MAPPING_CAMERA_POS,new KeyTrigger(KeyInput.KEY_C));
    inputManager.addMapping(INPUT_MAPPING_MEMORY,new KeyTrigger(KeyInput.KEY_M));
    if (stateManager.getState(StatsAppState.class) != null) {
      inputManager.addMapping(INPUT_MAPPING_HIDE_STATS,new KeyTrigger(KeyInput.KEY_F5));
    }
    inputManager.addListener(actionListener,INPUT_MAPPING_EXIT,INPUT_MAPPING_CAMERA_POS,INPUT_MAPPING_MEMORY,INPUT_MAPPING_HIDE_STATS);
  }
  if (stateManager.getState(StatsAppState.class) != null) {
    fpsText=stateManager.getState(StatsAppState.class).getFpsText();
  }
  simpleInitApp();
}
