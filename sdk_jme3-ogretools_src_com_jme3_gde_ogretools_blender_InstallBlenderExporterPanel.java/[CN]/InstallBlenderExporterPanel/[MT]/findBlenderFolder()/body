{
  if (Utilities.isMac()) {
    File scriptsDir=new File(System.getProperty("user.home") + "/.blender/scripts/");
    if (!scriptsDir.exists()) {
      scriptsDir=new File("/Applications/blender.app/Contents/Resources/MacOS/.blender/scripts/");
      if (!scriptsDir.exists()) {
        scriptsDir=new File(System.getProperty("user.home") + "/Applications/blender.app/Contents/Resources/MacOS/.blender/scripts/");
        if (!scriptsDir.exists()) {
          scriptsDir=new File("/Applications/blender/blender.app/Contents/Resources/MacOS/.blender/scripts/");
        }
      }
    }
    if (!scriptsDir.exists()) {
      FileChooserBuilder builder=new FileChooserBuilder("/Applications/");
      builder.setDirectoriesOnly(true);
      builder.setTitle("Select Blender.app Application");
      File file=builder.showOpenDialog();
      if (file != null) {
        scriptsDir=new File(file.getPath() + "/Contents/Resources/MacOS/.blender/scripts/");
      }
      return scriptsDir.getPath();
    }
 else {
      return scriptsDir.getPath();
    }
  }
 else   if (Utilities.isUnix()) {
    File scriptsDir=new File("/usr/share/blender/");
    if (!scriptsDir.exists()) {
      scriptsDir=new File("/usr/lib/blender/");
    }
    if (!scriptsDir.exists()) {
      FileChooserBuilder builder=new FileChooserBuilder("");
      builder.setDirectoriesOnly(true);
      builder.setTitle("Select Blender Scripts Directory");
      File file=builder.showOpenDialog();
      if (file != null) {
        scriptsDir=file;
      }
      return scriptsDir.getPath();
    }
 else {
      return scriptsDir.getPath();
    }
  }
 else   if (Utilities.isWindows()) {
    File scriptsDir=new File(System.getProperty("user.home") + "\\AppData\\Roaming\\Blender Foundation\\Blender\\scripts\\");
    if (!scriptsDir.exists()) {
      scriptsDir=new File(System.getProperty("user.home") + "\\Application Data\\Roaming\\Blender Foundation\\Blender\\scripts\\");
      if (!scriptsDir.exists()) {
        scriptsDir=new File(System.getProperty("user.home") + "C:\\Program Files\\Blender\\.blender\\scripts\\");
      }
    }
    if (!scriptsDir.exists()) {
      FileChooserBuilder builder=new FileChooserBuilder("");
      builder.setDirectoriesOnly(true);
      builder.setTitle("Select Blender Scripts Directory");
      File file=builder.showOpenDialog();
      if (file != null) {
        scriptsDir=file;
      }
      return scriptsDir.getPath();
    }
 else {
      return scriptsDir.getPath();
    }
  }
  return "could not find path";
}
