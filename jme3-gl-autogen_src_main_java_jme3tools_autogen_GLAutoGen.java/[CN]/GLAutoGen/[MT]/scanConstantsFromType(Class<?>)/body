{
  Field[] fields=clazz.getDeclaredFields();
  for (  Field field : fields) {
    if ((field.getModifiers() & (Modifier.STATIC | Modifier.PUBLIC)) != 0) {
      String name=field.getName();
      Class<?> type=field.getType();
      Object value=null;
      if (constantMap.containsKey(name)) {
        throw new UnsupportedOperationException(name + " constant redeclared");
      }
      if (type == int.class) {
        try {
          value=field.getInt(null);
        }
 catch (        Exception ex) {
          ex.printStackTrace();
        }
      }
 else       if (type == long.class) {
        try {
          value=field.getLong(null);
        }
 catch (        Exception ex) {
          ex.printStackTrace();
        }
      }
      if (value == null) {
        throw new UnsupportedOperationException("Unsupported type: " + type);
      }
      constantMap.put(name,new ConstantInfo(clazz,name,type,value));
    }
  }
}
