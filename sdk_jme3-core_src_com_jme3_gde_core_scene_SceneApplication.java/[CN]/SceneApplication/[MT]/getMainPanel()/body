{
  if (useCanvas) {
    return ((JmeCanvasContext)getContext()).getCanvas();
  }
 else {
    if (panel == null) {
      panel=((AwtPanelsContext)getContext()).createPanel(PaintMode.Accelerated);
      ((AwtPanelsContext)getContext()).setInputSource(panel);
      attachPanel();
    }
    return panel;
  }
}
