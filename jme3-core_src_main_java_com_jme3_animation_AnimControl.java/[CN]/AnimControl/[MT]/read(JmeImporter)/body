{
  super.read(im);
  InputCapsule in=im.getCapsule(this);
  skeleton=(Skeleton)in.readSavable("skeleton",null);
  HashMap<String,Animation> loadedAnimationMap=(HashMap<String,Animation>)in.readStringSavableMap("animations",null);
  if (loadedAnimationMap != null) {
    animationMap=loadedAnimationMap;
  }
  if (im.getFormatVersion() == 0) {
    Savable[] sav=in.readSavableArray("targets",null);
    if (sav != null) {
      Mesh[] targets=new Mesh[sav.length];
      System.arraycopy(sav,0,targets,0,sav.length);
      skeletonControl=new SkeletonControl(targets,skeleton);
      spatial.addControl(skeletonControl);
    }
  }
}
