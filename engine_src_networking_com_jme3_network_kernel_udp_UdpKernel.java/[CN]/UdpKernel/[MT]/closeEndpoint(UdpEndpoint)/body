{
  log.log(Level.INFO,"Closing endpoint:{0}.",p);
  socketEndpoints.remove(p.getRemoteAddress());
  addEvent(EndpointEvent.createRemove(this,p));
  if (!hasEnvelopes()) {
    addEnvelope(EVENTS_PENDING);
  }
}
