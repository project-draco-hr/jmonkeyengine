{
switch (fmt) {
case ARGB4444:
    return false;
case BGR8:
  return caps.OpenGL12 || caps.GL_EXT_bgra;
case DXT1:
case DXT1A:
case DXT3:
case DXT5:
return caps.GL_EXT_texture_compression_s3tc;
case Depth:
case Depth16:
case Depth24:
case Depth32:
return caps.OpenGL14 || caps.GL_ARB_depth_texture;
case Depth32F:
case Luminance16F:
case Luminance16FAlpha16F:
case Luminance32F:
case RGBA16F:
case RGBA32F:
return caps.OpenGL30 || caps.GL_ARB_texture_float;
case LATC:
case LTC:
return caps.GL_EXT_texture_compression_latc;
case RGB9E5:
case RGB16F_to_RGB9E5:
return caps.OpenGL30 || caps.GL_EXT_texture_shared_exponent;
case RGB111110F:
case RGB16F_to_RGB111110F:
return caps.OpenGL30 || caps.GL_EXT_packed_float;
default :
return true;
}
}
