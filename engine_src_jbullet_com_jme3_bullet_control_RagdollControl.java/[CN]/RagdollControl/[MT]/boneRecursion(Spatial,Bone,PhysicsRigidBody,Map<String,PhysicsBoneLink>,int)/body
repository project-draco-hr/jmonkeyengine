{
  Vector3f pos=bone.getModelSpacePosition().add(model.getLocalTranslation());
  PhysicsRigidBody shapeNode=new PhysicsRigidBody(makeShape(bone,model),10.0f / (float)reccount);
  shapeNode.setPhysicsLocation(pos);
  PhysicsBoneLink link=new PhysicsBoneLink();
  link.bone=bone;
  link.rigidBody=shapeNode;
  link.initalWorldRotation=bone.getModelSpaceRotation().clone();
  if (parent != null) {
    Vector3f posToParent=new Vector3f();
    if (bone.getParent() != null) {
      bone.getModelSpacePosition().subtract(bone.getParent().getModelSpacePosition(),posToParent);
    }
    link.pivotA=posToParent;
    link.pivotB=new Vector3f(0,0,0f);
    SixDofJoint joint=new SixDofJoint(parent,shapeNode,link.pivotA,link.pivotB,true);
    setJointLimit(joint,0,0,0,0,0,0);
    link.joint=joint;
    joint.setCollisionBetweenLinkedBodys(false);
  }
  list.put(bone.getName(),link);
  for (Iterator<Bone> it=bone.getChildren().iterator(); it.hasNext(); ) {
    Bone childBone=it.next();
    boneRecursion(model,childBone,shapeNode,list,reccount++);
  }
  return list;
}
