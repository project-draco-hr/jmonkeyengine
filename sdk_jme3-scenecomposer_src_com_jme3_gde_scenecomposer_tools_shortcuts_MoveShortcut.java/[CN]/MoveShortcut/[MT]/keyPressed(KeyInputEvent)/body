{
  if (kie.isPressed()) {
    Lookup.getDefault().lookup(ShortcutManager.class).activateShortcut(kie);
    boolean axisChanged=ShortcutManager.isAxisKey(kie);
    if (axisChanged) {
      currentAxis=ShortcutManager.getAxisKey(kie);
    }
    boolean numberChanged=ShortcutManager.isNumberKey(kie);
    if (numberChanged) {
      ShortcutManager.setNumberKey(kie,numberBuilder);
    }
    boolean enterHit=ShortcutManager.isEnterKey(kie);
    boolean escHit=ShortcutManager.isEscKey(kie);
    if (escHit) {
      cancel();
    }
 else     if (enterHit) {
      apply();
    }
 else     if (axisChanged && pickEnabled) {
      if (currentAxis.equals(Vector3f.UNIT_X)) {
        pickManager.setTransformation(PickManager.PLANE_XY,getTransformType(),camera);
      }
 else       if (currentAxis.equals(Vector3f.UNIT_Y)) {
        pickManager.setTransformation(PickManager.PLANE_YZ,getTransformType(),camera);
      }
 else       if (currentAxis.equals(Vector3f.UNIT_Z)) {
        pickManager.setTransformation(PickManager.PLANE_XZ,getTransformType(),camera);
      }
    }
 else     if (axisChanged || numberChanged) {
      float number=ShortcutManager.getNumberKey(numberBuilder);
      Vector3f translation=currentAxis.mult(number);
      finalPosition=startPosition.add(translation);
      spatial.setLocalTranslation(finalPosition);
    }
  }
}
