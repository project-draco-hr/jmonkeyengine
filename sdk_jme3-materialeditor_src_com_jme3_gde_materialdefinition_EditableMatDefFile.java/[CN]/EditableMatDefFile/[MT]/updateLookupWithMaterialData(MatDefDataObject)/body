{
  obj.getLookupContents().add(materialDef);
  material=new Material(materialDef);
  try {
    if (matToRemove != null) {
      for (      MatParam matParam : matToRemove.getParams()) {
        try {
          material.setParam(matParam.getName(),matParam.getVarType(),matParam.getValue());
        }
 catch (        IllegalArgumentException ie) {
          matToRemove.clearParam(matParam.getName());
        }
      }
      obj.getLookupContents().remove(matToRemove);
      matToRemove=null;
    }
    obj.getLookupContents().add(material);
  }
 catch (  Exception e) {
    Logger.getLogger(EditableMatDefFile.class.getName()).log(Level.WARNING,"Error making material {0}",e.getMessage());
    material=matToRemove;
  }
}
