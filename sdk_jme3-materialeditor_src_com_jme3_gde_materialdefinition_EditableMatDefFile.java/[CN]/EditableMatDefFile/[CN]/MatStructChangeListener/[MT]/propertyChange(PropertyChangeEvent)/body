{
  if (evt.getSource() instanceof ShaderNodeBlock && evt.getPropertyName().equals("name")) {
    String oldValue=(String)evt.getOldValue();
    String newValue=(String)evt.getNewValue();
    for (    ShaderNodeBlock shaderNodeBlock : currentTechnique.getShaderNodes()) {
      List<InputMappingBlock> lin=shaderNodeBlock.getInputs();
      if (lin != null) {
        for (        InputMappingBlock inputMappingBlock : shaderNodeBlock.getInputs()) {
          if (inputMappingBlock.getLeftNameSpace().equals(oldValue)) {
            inputMappingBlock.setLeftNameSpace(newValue);
          }
          if (inputMappingBlock.getRightNameSpace().equals(oldValue)) {
            inputMappingBlock.setRightNameSpace(newValue);
          }
        }
      }
      List<OutputMappingBlock> l=shaderNodeBlock.getOutputs();
      if (l != null) {
        for (        OutputMappingBlock outputMappingBlock : l) {
          if (outputMappingBlock.getRightNameSpace().equals(oldValue)) {
            outputMappingBlock.setRightNameSpace(newValue);
          }
        }
      }
    }
  }
  if (evt.getPropertyName().equals(MatDefBlock.REMOVE_MAT_PARAM)) {
    MatParamBlock oldValue=(MatParamBlock)evt.getOldValue();
    for (    ShaderNodeBlock shaderNodeBlock : currentTechnique.getShaderNodes()) {
      if (shaderNodeBlock.getCondition() != null && shaderNodeBlock.getCondition().contains(oldValue.getName())) {
        shaderNodeBlock.setCondition(shaderNodeBlock.getCondition().replaceAll(oldValue.getName(),"").trim());
      }
      List<InputMappingBlock> lin=shaderNodeBlock.getInputs();
      if (lin != null) {
        for (        InputMappingBlock inputMappingBlock : shaderNodeBlock.getInputs()) {
          if (inputMappingBlock.getCondition() != null && inputMappingBlock.getCondition().contains(oldValue.getName())) {
            inputMappingBlock.setCondition(inputMappingBlock.getCondition().replaceAll(oldValue.getName(),"").trim());
          }
        }
      }
      List<OutputMappingBlock> l=shaderNodeBlock.getOutputs();
      if (l != null) {
        for (        OutputMappingBlock outputMappingBlock : l) {
          if (outputMappingBlock.getCondition() != null && outputMappingBlock.getCondition().contains(oldValue.getName())) {
            outputMappingBlock.setCondition(outputMappingBlock.getCondition().replaceAll(oldValue.getName(),"").trim());
          }
        }
      }
    }
  }
  if (evt.getPropertyName().equals(MatDefBlock.ADD_MAT_PARAM) || evt.getPropertyName().equals(TechniqueBlock.ADD_SHADER_NODE) || evt.getPropertyName().equals(ShaderNodeBlock.ADD_MAPPING)) {
    registerListener((Statement)evt.getNewValue());
  }
  applyChange();
}
