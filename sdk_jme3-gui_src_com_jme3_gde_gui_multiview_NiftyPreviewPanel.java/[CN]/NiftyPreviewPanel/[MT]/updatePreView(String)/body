{
  final ProjectAssetManager pm=niftyObject.getLookup().lookup(ProjectAssetManager.class);
  if (pm == null) {
    Logger.getLogger(NiftyPreviewPanel.class.getName()).log(Level.WARNING,"No Project AssetManager found!");
  }
  try {
    doc=XMLUtil.parse(new InputSource(niftyObject.getPrimaryFile().getInputStream()),false,false,null,null);
    NiftyFileNode rootContext=new NiftyFileNode(doc.getDocumentElement());
    setRoot(rootContext);
    comp.setRootContext(rootContext);
  }
 catch (  Exception ex) {
    Exceptions.printStackTrace(ex);
  }
  SceneApplication.getApplication().enqueue(new Callable<Object>(){
    public Object call() throws Exception {
      nifty.fromXml(pm.getRelativeAssetPath(niftyObject.getPrimaryFile().getPath()),screen);
      return null;
    }
  }
);
  java.awt.EventQueue.invokeLater(new Runnable(){
    public void run(){
      validateTree();
    }
  }
);
}
