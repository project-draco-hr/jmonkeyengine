{
  final Registry registry=Registry.getInstance();
  final StringBuilder text=new StringBuilder();
  long installationSize=0;
  long downloadSize=0;
  for (  Product product : registry.getProductsToInstall()) {
    installationSize+=product.getRequiredDiskSpace();
    downloadSize+=product.getDownloadSize();
  }
  for (  Product product : registry.getProductsToInstall()) {
    text.append(StringUtils.LF);
    text.append(StringUtils.format(panel.getProperty(INSTALLATION_FOLDER_PROPERTY),product.getDisplayName()));
    text.append(StringUtils.LF);
    text.append("    " + product.getInstallationLocation());
    text.append(StringUtils.LF);
  }
  locationsPane.setText(text);
  List<Product> toUninstall=registry.getProductsToUninstall();
  String uninstallLabelText=toUninstall.size() > 0 ? StringUtils.format(panel.getProperty(UNINSTALL_LABEL_TEXT_PROPERTY),toUninstall.get(0).getDisplayName()) : "";
  uninstallListLabel.setText(uninstallLabelText);
  installationSizeLabel.setText(panel.getProperty(INSTALLATION_SIZE_PROPERTY));
  installationSizeValue.setText(StringUtils.formatSize(installationSize));
  downloadSizeLabel.setText(panel.getProperty(DOWNLOAD_SIZE_PROPERTY));
  downloadSizeValue.setText(StringUtils.formatSize(downloadSize));
  if (registry.getProductsToInstall().size() == 0) {
    locationsPane.setVisible(false);
    installationSizeLabel.setVisible(false);
    installationSizeValue.setVisible(false);
  }
 else {
    locationsPane.setVisible(true);
    installationSizeLabel.setVisible(true);
    installationSizeValue.setVisible(true);
  }
  if (registry.getProductsToUninstall().size() == 0) {
    uninstallListLabel.setVisible(false);
    uninstallListPane.setVisible(false);
  }
 else {
    uninstallListLabel.setVisible(true);
    uninstallListPane.setVisible(true);
  }
  downloadSizeLabel.setVisible(false);
  downloadSizeValue.setVisible(false);
  for (  RegistryNode remoteNode : registry.getNodes(RegistryType.REMOTE)) {
    if (remoteNode.isVisible()) {
      downloadSizeLabel.setVisible(true);
      downloadSizeValue.setVisible(true);
    }
  }
  if (Boolean.getBoolean(REMOVE_APP_USERDIR_PROPERTY)) {
    removeUserdirCheckbox.doClick();
  }
  removeUserdirCheckbox.setVisible(false);
  removeUserdirPane.setVisible(false);
  for (  Product product : Registry.getInstance().getProductsToUninstall()) {
    try {
      File installLocation=product.getInstallationLocation();
      LogManager.log("... product installation directory: " + installLocation);
      File userDir=NetBeansRCPUtils.getApplicationUserDirFile(installLocation);
      LogManager.log("... product userdir: " + userDir);
      if (FileUtils.exists(userDir) && FileUtils.canWrite(userDir)) {
        removeUserdirCheckbox.setText(StringUtils.format(panel.getProperty(REMOVE_APP_USERDIR_CHECKBOX_PROPERTY),userDir.getAbsolutePath()));
        removeUserdirCheckbox.setBorder(new EmptyBorder(0,0,0,0));
        removeUserdirCheckbox.setVisible(true);
        removeUserdirPane.setVisible(true);
        removeUserdirPane.setContentType("text/html");
        removeUserdirPane.setText(StringUtils.format(panel.getProperty(REMOVE_APP_USERDIR_TEXT_PROPERTY),product.getDisplayName()));
      }
      break;
    }
 catch (    IOException e) {
      LogManager.log(e);
    }
  }
  super.initialize();
}
