{
  Future fut=fakeAppThread.submit(new Callable<Void>(){
    public Void call() throws Exception {
      AudioContext.setAudioRenderer(audioRenderer);
      appStateManager.update(tpf);
      return null;
    }
  }
);
  try {
    fut.get(1,TimeUnit.MINUTES);
  }
 catch (  InterruptedException ex) {
    Exceptions.printStackTrace(ex);
  }
catch (  ExecutionException ex) {
    removeAllStates();
    DialogDisplayer.getDefault().notifyLater(new NotifyDescriptor.Message("Exception in AppState, all AppStates removed."));
    return false;
  }
catch (  TimeoutException ex) {
    fut.cancel(true);
    removeAllStates();
    DialogDisplayer.getDefault().notifyLater(new NotifyDescriptor.Message("Update loop was blocked for too long, all AppStates removed."));
    return false;
  }
  return true;
}
