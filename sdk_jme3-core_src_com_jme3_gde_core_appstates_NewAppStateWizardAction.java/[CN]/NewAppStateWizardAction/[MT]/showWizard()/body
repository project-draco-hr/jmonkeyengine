{
  WizardDescriptor wizardDescriptor=new WizardDescriptor(getPanels());
  wizardDescriptor.setTitleFormat(new MessageFormat("{0}"));
  wizardDescriptor.setTitle("Add New AppState");
  wizardDescriptor.putProperty("asset_manager",mgr);
  wizardDescriptor.putProperty("fake_app",fakeApp);
  wizardDescriptor.putProperty("project",mgr.getProject());
  Dialog dialog=DialogDisplayer.getDefault().createDialog(wizardDescriptor);
  dialog.setVisible(true);
  dialog.toFront();
  boolean cancelled=wizardDescriptor.getValue() != WizardDescriptor.FINISH_OPTION;
  if (!cancelled) {
    AppState state=doCreateAppState(wizardDescriptor);
    if (state != null) {
      fakeApp.getStateManager().attach(state);
    }
  }
}
