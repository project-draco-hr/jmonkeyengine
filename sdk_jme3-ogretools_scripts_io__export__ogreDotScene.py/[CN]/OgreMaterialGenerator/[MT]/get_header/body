def get_header(self):
    r = []
    for mat in self.passes:
        if (mat.use_ogre_parent_material and mat.ogre_parent_material):
            usermat = get_ogre_user_material(mat.ogre_parent_material)
            r.append(('//user material: %s' % usermat.name))
            for prog in usermat.get_programs():
                r.append(prog.data)
            r.append('// abstract passes //')
            r += usermat.as_abstract_passes()
    return '\n'.join(r)
