def parse(self, txt):
    self.data = txt
    print '--parsing ogre shader program--'
    for line in self.data.splitlines():
        print line
        line = line.split('//')[0]
        line = line.strip()
        if (line.startswith('vertex_program') or line.startswith('fragment_program')):
            (a, self.name, self.type) = line.split()
        elif line.startswith('source'):
            self.source = line.split()[(-1)]
        elif line.startswith('entry_point'):
            self.entry_point = line.split()[(-1)]
        elif line.startswith('profiles'):
            self.profiles = line.split()[1:]
