{
  int maximumFrameCount=-1;
  float[] maximumTrackTimes=null;
  for (  BoneTrack track : tracks) {
    if (track.getTimes().length > maximumFrameCount) {
      maximumTrackTimes=track.getTimes();
      maximumFrameCount=maximumTrackTimes.length;
    }
  }
  for (  BoneTrack track : tracks) {
    int currentTrackLength=track.getTimes().length;
    if (currentTrackLength < maximumFrameCount) {
      Vector3f[] translations=new Vector3f[maximumFrameCount];
      Quaternion[] rotations=new Quaternion[maximumFrameCount];
      Vector3f[] scales=new Vector3f[maximumFrameCount];
      Vector3f[] currentTranslations=track.getTranslations();
      Quaternion[] currentRotations=track.getRotations();
      Vector3f[] currentScales=track.getScales();
      for (int i=0; i < currentTrackLength; ++i) {
        translations[i]=currentTranslations[i];
        rotations[i]=currentRotations[i];
        scales[i]=currentScales[i];
      }
      for (int i=currentTrackLength; i < maximumFrameCount; ++i) {
        translations[i]=currentTranslations[currentTranslations.length - 1];
        rotations[i]=currentRotations[currentRotations.length - 1];
        scales[i]=currentScales[currentScales.length - 1];
      }
      track.setKeyframes(maximumTrackTimes,translations,rotations,scales);
    }
  }
}
