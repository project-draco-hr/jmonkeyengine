{
  assetManager.registerLocator("http://jme-glsl-shaders.googlecode.com/hg/assets/Models/LightBlow/",UrlLocator.class);
  assetManager.registerLocator("http://jmonkeyengine.googlecode.com/files/",UrlLocator.class);
  Geometry badModel=(Geometry)assetManager.loadModel("jme_lightblow.obj");
  badModel.setLocalScale(2f);
  Material mat=assetManager.loadMaterial("Textures/BumpMapTest/Tangent.j3m");
  badModel.setMaterial(mat);
  rootNode.attachChild(badModel);
  rootNode.depthFirstTraversal(new SceneGraphVisitorAdapter(){
    @Override public void visit(    Geometry g){
      Mesh m=g.getMesh();
      Material mat=g.getMaterial();
      TangentBinormalGenerator.generate(m);
    }
  }
);
  Geometry debug=new Geometry("Debug Teapot",TangentBinormalGenerator.genTbnLines(((Geometry)badModel).getMesh(),0.03f));
  debug.getMesh().setLineWidth(3);
  Material debugMat=assetManager.loadMaterial("Common/Materials/VertexColor.j3m");
  debug.setMaterial(debugMat);
  debug.setCullHint(Spatial.CullHint.Never);
  debug.getLocalTranslation().set(badModel.getLocalTranslation());
  debug.getLocalScale().set(badModel.getLocalScale());
  rootNode.attachChild(debug);
  DirectionalLight dl=new DirectionalLight();
  dl.setDirection(new Vector3f(-0.8f,-0.6f,-0.08f).normalizeLocal());
  dl.setColor(new ColorRGBA(1,1,1,1));
  rootNode.addLight(dl);
  lightMdl=new Geometry("Light",new Sphere(10,10,0.1f));
  lightMdl.setMaterial(assetManager.loadMaterial("Common/Materials/RedColor.j3m"));
  lightMdl.getMesh().setStatic();
  rootNode.attachChild(lightMdl);
  pl=new PointLight();
  pl.setColor(ColorRGBA.White);
}
