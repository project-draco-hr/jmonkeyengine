{
  if (!stream.isOpen()) {
    return false;
  }
  boolean active=true;
  int processed=alGetSourcei(sourceId,AL.AL_BUFFERS_PROCESSED);
  checkError(true);
  if (processed > 0) {
    int buffer;
    ib.position(0).limit(1);
    alSourceUnqueueBuffers(sourceId,1,ib);
    checkError(true);
    buffer=ib.get(0);
    active=fillBuffer(stream,buffer);
    ib.position(0).limit(1);
    ib.put(0,buffer);
    alSourceQueueBuffers(sourceId,1,ib);
    checkError(true);
  }
  if (!active && stream.isOpen()) {
    stream.close();
  }
  return active;
}
