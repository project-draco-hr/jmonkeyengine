{
  int[] num_conf=new int[1];
  egl.eglGetConfigs(display,null,0,num_conf);
  int configurations=num_conf[0];
  EGLConfig[] conf=new EGLConfig[configurations];
  egl.eglGetConfigs(display,conf,configurations,num_conf);
  int[] value=new int[1];
  if (configurations <= 0) {
    logger.severe("###ERROR### ZERO EGL Configurations found, This Is a Problem");
  }
  for (int i=0; i < configurations; i++) {
    if (conf[i] != null) {
      egl.eglGetConfigAttrib(display,conf[i],EGL10.EGL_SURFACE_TYPE,value);
      if ((value[0] & EGL10.EGL_WINDOW_BIT) != 0) {
        egl.eglGetConfigAttrib(display,conf[i],EGL10.EGL_DEPTH_SIZE,value);
        if (value[0] == 16) {
          egl.eglGetConfigAttrib(display,conf[i],EGL10.EGL_RENDERABLE_TYPE,value);
          if ((value[0] & EGL_OPENGL_ES2_BIT) != 0) {
            clientOpenGLESVersion=2;
            bestConfig=better(bestConfig,conf[i],egl,display);
            fastestConfig=faster(fastestConfig,conf[i],egl,display);
            if (verbose) {
              logger.info("** Supported EGL Configuration #" + i);
              logEGLConfig(conf[i],display,egl);
            }
          }
 else {
            if (verbose) {
              logger.info("NOT Supported EGL Configuration #" + i + " EGL_OPENGL_ES2_BIT not set");
              logEGLConfig(conf[i],display,egl);
            }
          }
        }
 else {
          if (verbose) {
            logger.info("NOT Supported EGL Configuration #" + i + " EGL_DEPTH_SIZE != 16");
            logEGLConfig(conf[i],display,egl);
          }
        }
      }
 else {
        if (verbose) {
          logger.info("NOT Supported EGL Configuration #" + i + " EGL_WINDOW_BIT not set");
          logEGLConfig(conf[i],display,egl);
        }
      }
    }
 else {
      logger.severe("###ERROR### EGL Configuration #" + i + " is NULL");
    }
  }
  if ((type == ConfigType.BEST) && (bestConfig != null)) {
    logger.info("JME3 using best EGL configuration available here: ");
    choosenConfig=bestConfig;
  }
 else {
    if (fastestConfig != null) {
      logger.info("JME3 using fastest EGL configuration available here: ");
    }
    choosenConfig=fastestConfig;
  }
  if (choosenConfig != null) {
    logEGLConfig(choosenConfig,display,egl);
    pixelFormat=getPixelFormat(choosenConfig,display,egl);
    clientOpenGLESVersion=getOpenGLVersion(choosenConfig,display,egl);
    return true;
  }
 else {
    logger.severe("###ERROR### Unable to get a valid OpenGL ES 2.0 config, nether Fastest nor Best found! Bug. Please report this.");
    clientOpenGLESVersion=1;
    pixelFormat=PixelFormat.UNKNOWN;
    return false;
  }
}
