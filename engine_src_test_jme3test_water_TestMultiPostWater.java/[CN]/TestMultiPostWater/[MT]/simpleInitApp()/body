{
  Node mainScene=new Node("Main Scene");
  rootNode.attachChild(mainScene);
  createTerrain(mainScene);
  DirectionalLight sun=new DirectionalLight();
  sun.setDirection(lightDir);
  sun.setColor(ColorRGBA.White.clone().multLocal(1.7f));
  mainScene.addLight(sun);
  flyCam.setMoveSpeed(100);
  cam.setLocation(new Vector3f(-327.21957f,61.6459f,126.884346f));
  cam.setRotation(new Quaternion().fromAngles(new float[]{FastMath.PI * 0.06f,FastMath.PI * 0.65f,0}));
  Spatial sky=SkyFactory.createSky(assetManager,"Scenes/Beach/FullskiesSunset0068.dds",false);
  sky.setLocalScale(350);
  mainScene.attachChild(sky);
  cam.setFrustumFar(4000);
  FilterPostProcessor fpp=new FilterPostProcessor(assetManager);
  water=new WaterFilter(rootNode,lightDir);
  water.setCenter(new Vector3f(9.628218f,-15.830074f,199.23595f));
  water.setRadius(260);
  water.setWaveScale(0.003f);
  water.setMaxAmplitude(2f);
  water.setFoamExistence(new Vector3f(1f,4,0.5f));
  water.setFoamTexture((Texture2D)assetManager.loadTexture("Common/MatDefs/Water/Textures/foam2.jpg"));
  water.setRefractionStrength(0.2f);
  water.setWaterHeight(0.8f);
  fpp.addFilter(water);
  WaterFilter water2=new WaterFilter(rootNode,lightDir);
  water2.setCenter(new Vector3f(-280.46027f,-24.971727f,-271.71976f));
  water2.setRadius(260);
  water2.setWaterHeight(0.8f);
  water2.setUseFoam(false);
  water2.setUseRipples(false);
  water2.setDeepWaterColor(ColorRGBA.Brown);
  water2.setWaterColor(ColorRGBA.Brown.mult(2.0f));
  water2.setWaterTransparency(0.2f);
  water2.setMaxAmplitude(0.3f);
  water2.setWaveScale(0.008f);
  water2.setSpeed(0.7f);
  water2.setShoreHardness(1.0f);
  water2.setRefractionConstant(0.2f);
  water2.setShininess(0.3f);
  water2.setSunScale(1.0f);
  water2.setColorExtinction(new Vector3f(10.0f,20.0f,30.0f));
  fpp.addFilter(water2);
  WaterFilter water3=new WaterFilter(rootNode,lightDir);
  water3.setCenter(new Vector3f(319.6663f,-18.367947f,-236.67674f));
  water3.setRadius(260);
  water3.setWaterHeight(0.8f);
  water3.setWaveScale(0.003f);
  water3.setMaxAmplitude(2f);
  water3.setFoamExistence(new Vector3f(1f,4,0.5f));
  water3.setFoamTexture((Texture2D)assetManager.loadTexture("Common/MatDefs/Water/Textures/foam2.jpg"));
  water3.setRefractionStrength(0.2f);
  water3.setWaterHeight(0.8f);
  water3.setDeepWaterColor(ColorRGBA.Red);
  water3.setWaterColor(ColorRGBA.Red.mult(2.0f));
  water3.setLightColor(ColorRGBA.Red);
  fpp.addFilter(water3);
  viewPort.addProcessor(fpp);
}
