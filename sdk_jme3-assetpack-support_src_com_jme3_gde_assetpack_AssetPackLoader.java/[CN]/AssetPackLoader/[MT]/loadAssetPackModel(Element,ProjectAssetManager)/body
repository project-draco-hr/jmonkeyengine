{
  NodeList fileNodeList=assetElement.getElementsByTagName("file");
  Element fileElement=XmlHelper.findChildElementWithAttribute(assetElement,"file","main","true");
  if (fileElement == null) {
    fileElement=XmlHelper.findChildElement(assetElement,"file");
  }
  Spatial model=null;
  Node node=null;
  while (fileElement != null) {
    Logger.getLogger(AssetPackLoader.class.getName()).log(Level.INFO,"Load main file {0}",fileElement.getAttribute("path"));
    if (model != null && node == null) {
      node=new Node(assetElement.getAttribute("name"));
      node.attachChild(model);
    }
    model=AssetPackLoader.loadSingleMesh(fileElement,fileNodeList,pm);
    if (model != null && node != null) {
      node.attachChild(model);
    }
 else {
      Logger.getLogger(AssetPackLoader.class.getName()).log(Level.WARNING,"Error loading model");
    }
    fileElement=XmlHelper.findNextElementWithAttribute(fileElement,"file","main","true");
  }
  if (node != null) {
    return node;
  }
  return model;
}
